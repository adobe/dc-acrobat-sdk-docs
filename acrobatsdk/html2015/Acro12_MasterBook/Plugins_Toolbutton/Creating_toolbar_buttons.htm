<!DOCTYPE HTML>
<html>
<head>

 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>Creating toolbar buttons</title>

 <meta name="generator" content="Adobe FrameMaker 2015" />
 <meta name="Originator" content="ImportMif" />
 <meta name="OriginalFile" content="C:\Users\Perforce\Work\Groups\SDK\main\Documents\Common\docs_fm\PluginAppsDeveloperGuide\Plugins_Toolbutton.fm" />
 <link rel="stylesheet" href="Plugins_Toolbutton.css" type="text/css" />


<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../..";
gCommonRootRelPath = "../..";
gTopicId = "2.1.7.2";
</script>
 <meta name="brsprev" value="Acro12_MasterBook/Plugins_Toolbutton/Retrieving_toolbars.htm">
 <meta name="brsnext" value="Acro12_MasterBook/Plugins_Toolbutton/Setting_help_text_for_a_button.htm">
 <meta name="topic-breadcrumbs" content="Plug-ins and Applications > Overview > Creating Toolbars and Buttons" />
</head>

<body dir="ltr">
<script type="text/javascript" src="../../ehlpdhtm.js"></script>
<div dir="ltr">
  <h2><a name="IX_creating_toolbar_buttons"></a><a name="IX_AVToolButtonNew"></a><a name="IX_AVToolButtonNew_method"></a><a name="IX_creating_buttons"></a><a name="IX_toolbar_buttons"></a><a name="XREF_92880_Creating_toolbar"></a>Creating toolbar buttons</h2>
  <p class="BodyLevel1">You can create a new button that you can attach to a new or existing toolbar. To create a new button, invoke the <span class="FM_Courier">AVToolButtonNew</span> method and pass the following arguments:</p>
  <ul type="disc" style="Direction:Direction:ltr;
;
">
   <li>
   <p class="FM_Bullet1">An <span class="FM_Courier">ASAtom</span> object that specifies the button's name.</p>
</li>
   <li>
   <p class="FM_Bullet1">An <span class="FM_Courier">AVIcon</span>&#160;object that represents the buttonâ€™s icon. If a button does not have an icon, the button appears with a gray background. You can use a PNG or a PDF document as an icon. To convert a PDF document to an icon, use the <span class="FM_Courier">AVIconCreateFromPDF</span> API.</p>
</li>
   <li>
   <p class="FM_Bullet1">An <span class="FM_Courier">ASBool</span>&#160;value that you can set to <span class="FM_Courier">true</span>&#160;or <span class="FM_Courier">false</span>. If <span class="FM_Courier">true</span>, the button is shown only when the user selects 'Full menus'. If <span class="FM_Courier">false</span>, shows in both 'Full menu'&#160;and 'Short menu' modes. This argument is ignored in <uservariable x-value="Acrobat" x-showvalue="TRUE" name="AcrobatProd" x-format="AcrobatProd">Acrobat</uservariable>&#160;3.0 or later. </p>
</li>
   <li>
   <p class="FM_Bullet1">An <span class="FM_Courier">ASBool</span>&#160;value that you can set to <span class="FM_Courier">true</span>&#160;or <span class="FM_Courier">false</span>. If <span class="FM_Courier">true</span>, the new button is a separator used to leave space between groups of related buttons. Callback functions are ignored and a user cannot click on a separator. If <span class="FM_Courier">false</span>, the button is normal.</p>
</li>
  </ul>
  <p class="BodyLevel1">The <span class="FM_Courier">AVToolButtonNew</span>&#160;method returns an <span class="FM_Courier">AVToolButton</span>&#160;object. You must attach this button to a toolbar in order to view it. (See <a href="Attaching_a_button_to_a_toolbar.htm#XREF_75762_Attaching_a_button">Attaching a button to a toolbar</a>.) </p>
  <p class="BodyLevel1">It is strongly recommended that you create an <span class="FM_Courier">AVIcon</span>&#160;object when creating a new button. To create an <span class="FM_Courier">AVIcon</span>&#160;object, you must invoke platform specific APIs. That is, you do not invoke methods that belong to the <uservariable x-value="Acrobat" x-showvalue="TRUE" name="AcrobatProd" x-format="AcrobatProd">Acrobat</uservariable>&#160;core API. If, for example, you are working on Windows, you can invoke a Win32 API method named <span class="FM_Courier">LoadBitmap</span>. Likewise, if you are working on Mac OS, you can invoke <span class="FM_Courier">SafeGetResource</span>.</p>
  <p class="BodyLevel1">The following code example shows how to create an <span class="FM_Courier">AVIcon</span>&#160;object that is based on a bitmap resource named <span class="FM_Courier">IDB_BITMAP1</span>.</p>
  <p class="FM_CodeReference"><span class="FM_Courier">AVIcon myIcon = (AVCursor)LoadBitmap(gHINSTANCE, MAKEINTRESOURCE(IDB_BITMAP1)); </span></p>
  <p class="BodyLevel1">The <span class="FM_Courier">gHINSTANCE</span>&#160;object is an instance of <span class="FM_Courier">HINSTANCE</span>&#160;and is declared in the PIMain.c file. In addition to creating a new icon, you can also retrieve an existing icon appearing on a toolbar button. (See <a href="Retrieving_existing_toolbar_buttons.htm#XREF_19658_Example1_5">Retrieving existing toolbar buttons</a>.)</p>
  <p class="BodyLevel1">Once you create an <span class="FM_Courier">AVIcon</span>&#160;object, you can create a new toolbar button. The following code example creates a new toolbar button.</p>
  <ul type="disc" style="Direction:Direction:ltr;
;
">
   <li>
   <p class="FM_5Head_Example">Creating a toolbar button</p>
</li>
  </ul>
  <p class="FM_CodeComment">//Declare an AVToolButton object</p>
  <p class="FM_CodeReference">AVToolButton MyButton = NULL;</p>
  <p class="FM_CodeReference">&nbsp;</p>
  <p class="FM_CodeComment">//Create an AVIcon object </p>
  <p class="FM_CodeReference">AVIcon myIcon = (AVCursor)LoadBitmap(gHINSTANCE, MAKEINTRESOURCE(IDB_BITMAP1));</p>
  <p class="FM_CodeReference">&nbsp;</p>
  <p class="FM_CodeComment">//Create a new button</p>
  <p class="FM_CodeReference">MyButton = AVToolButtonNew(ASAtomFromString(&quot;MyExtn:MyButton&quot;), myIcon, false, false);</p>
  </div>
</body>
</html>