<!DOCTYPE HTML>
<html>
<head>

 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>Creating exception handlers</title>

 <meta name="generator" content="Adobe FrameMaker 2015" />
 <meta name="Originator" content="ImportMif" />
 <meta name="OriginalFile" content="C:\Users\Perforce\Work\Groups\SDK\main\Documents\Common\docs_fm\PluginAppsDeveloperGuide\Plugins_Exceptions.fm" />
 <link rel="stylesheet" href="Plugins_Exceptions.css" type="text/css" />


<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../..";
gCommonRootRelPath = "../..";
gTopicId = "2.1.20.0_1";
</script>
 <meta name="brsprev" value="Acro12_MasterBook/Plugins_Exceptions/Handling_Exceptions1.htm">
 <meta name="brsnext" value="Acro12_MasterBook/Plugins_Exceptions/Returning_a_value_from_an_exception_handler.htm">
 <meta name="topic-breadcrumbs" content="Plug-ins and Applications > Overview > Handling Exceptions" />
</head>

<body dir="ltr">
<script type="text/javascript" src="../../ehlpdhtm.js"></script>
<div dir="ltr">
  <h2><a name="IX_creating_4"></a><a name="IX_errorcode_macro"></a><a name="IX_DURING_HANDLER_block"></a><a name="IX_exception_handlers"></a><a name="XREF_78661_Creating_exception"></a>Creating exception handlers</h2>
  <p class="BodyLevel1">Exception handlers typically perform object cleanup (such as releasing memory) when an exception occurs. Your exception handler can either deal with the exception or pass it along to the next handler on the exception handler stack.</p>
  <p class="BodyLevel1">You use the <span class="FM_Courier">DURING</span>, <span class="FM_Courier">HANDLER</span>, and <span class="FM_Courier">END_HANDLER</span>&#160;macros to define exception handlers. Application logic that may raise an exception appears between the <span class="FM_Courier">DURING</span>&#160;and <span class="FM_Courier">HANDLER </span>macros. Application logic that handles exceptions appears between the <span class="FM_Courier">HANDLER</span>&#160;and <span class="FM_Courier">END_HANDLER</span>&#160;macros. </p>
  <p class="BodyLevel1">If the method raises an exception, the handler code is executed; otherwise, it is not executed. When an exception occurs, your handler can access the exception error code by using the <span class="FM_Courier">ERRORCODE</span>&#160;macro. The value returned by the <span class="FM_Courier">ERRORCODE</span>&#160;macro does not change until another exception is raised. (See the <span class="FM_HyperText"><a href="http://help.adobe.com/en_US/acrobat/acrobat_dc_sdk/2015/HTMLHelp/Acro12_MasterBook/API_References_SectionPage/API_References/Acrobat_API_Reference/index.html">Acrobat and PDF Library API Reference</a></span>.)</p>
  <p class="BodyLevel1">The following code example declares an error handler that is active during a call to the <span class="FM_Courier">AVDocOpenFromFile</span>&#160;method. If an exception occurs, an error message is displayed to the user. For information about opening a PDF document by using the <span class="FM_Courier">AVDocOpenFromFile</span>&#160;method, see <a href="../Plugins_Documents/Opening_PDF_documents.htm#XREF_65430_Opening_a_PDF">Opening PDF documents</a>.</p>
  <ul type="disc" style="Direction:Direction:ltr;
;
">
   <li>
   <p class="FM_5Head_Example">Creating an exception handler</p>
</li>
  </ul>
  <p class="FM_CodeReference">DURING </p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>AVDoc avd = AVDocOpenFromFile(asp, NULL, (char *)NULL);</p>
  <p class="FM_CodeReference">HANDLER </p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>AVAlertNote(&quot;Error opening file&quot;);</p>
  <p class="FM_CodeReference">END_HANDLER</p>
  <p class="FM_Note"><span class="FM_Z_NoteCaution">Note:<span style="padding-left: 4pt;" class="FMAutoNumber_1"></span></span>For code brevity, most of the code examples located in this guide do not include <span class="FM_Courier">DURING</span>, <span class="FM_Courier">HANDLER</span>, and <span class="FM_Courier">END_HANDLER</span>&#160;macros to handle exceptions. You should include these macros in your own custom code.</p>
  </div>
</body>
</html>