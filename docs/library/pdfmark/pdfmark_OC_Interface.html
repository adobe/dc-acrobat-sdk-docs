
<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Learn how to integrate PDF product and features in your apps with the Acrobat and PDFL APIs. Create apps that integrate with and leverage features across Adobe's enterprise-class product lineup."
  
  <!-- Ben removed the title tag -->
  

  
   <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link href="../../_static/jquery-ui.css" rel="stylesheet" />  
  <link href="../../_static/copybutton.css" rel="stylesheet" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />

    
  
  
  <link rel="canonical" href="https://www.adobe.com/go/acrobatsdk_homepdfmark_OC_Interface.html" />
  

  
  
  
  <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  <script type="text/javascript" src="../../_static/searchtools.js"></script>
  <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/copybutton.js"></script>
  <script type="text/javascript" src="../../_static/js/theme.js"></script>
   
  
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="JDF Features" href="pdfmark_JDF.html" /> 
  
<script type='text/javascript'> window.marketingtech = { adobe: { launch: { property: "global", environment: "production" } }, };</script>
<script src="https://www.adobe.com/marketingtech/main.min.js"></script>

	<script>
    $(document).ready(function () {
      $(window).scroll(function () {
        if ($(this).scrollTop() >= 50) {
          $('.fixedbar, .wy-nav-side').addClass('scroll');
          $('.wy-top-menu-wrapper').fadeOut();
        } else {
          $('.fixedbar, .wy-nav-side').removeClass('scroll');
          $('.wy-top-menu-wrapper').fadeIn();
        }
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 100) {
          $('#scroll').fadeIn();
        } else {
          $('#scroll').fadeOut();
        }
      });
      $('#scroll').click(function () {
        $("html, body").animate({ scrollTop: 0 }, 600);
        return false;
      });
    });
  </script>

<style>
  .wy-nav-content {max-width:90%}
  </style>
</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
	  
	  	  
<!-- @@@@@@@@@@@@@@@@ Custom @@@@@@@@@@@@@@@@ -->
        <div class="wy-logo-wrapper"> 
          <a href="https://www.adobe.com/go/dc_developer">
            <img src="../../_static/acrobaticon.png" class="logo"/> 
          Acrobat and PDFL Developer Guides
          </a>
        </div> 
 <!-- @@@@@@@@@@@@@@@@ Custom @@@@@@@@@@@@@@@@ -->
 
        <div class="wy-side-nav-search" >
          

          
            <a href="toc.html" class="icon icon-home"> Acrobat-PDFL SDK:  PDFMark Reference
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Acrobat-PDFL SDK: PDFMark Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdfmark_Syntax.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Syntax.html#syntax-of-pdfmark-operators">Syntax of pdfmark operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Syntax.html#usage-with-standard-postscript-interpreters">Usage with standard PostScript interpreters</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Syntax.html#syntax-for-private-keys">Syntax for private keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Syntax.html#named-objects">Named objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Syntax.html#built-in-named-objects">Built-in named objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Syntax.html#user-defined-named-objects">User-defined named objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Syntax.html#namespaces">Namespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Syntax.html#adding-content-to-named-objects">Adding content to named objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pdfmark_Syntax.html#arrays">Arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="pdfmark_Syntax.html#dictionaries">Dictionaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="pdfmark_Syntax.html#streams">Streams</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pdfmark_Basic.html">Basic Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#annotations-ann">Annotations (ANN)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Basic.html#text-annotations-notes">Text annotations (notes)</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Basic.html#links">Links</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Basic.html#other-annotations">Other annotations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#articles-article">Articles (ARTICLE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#bookmarks-out">Bookmarks (OUT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#document-info-dictionary-docinfo">Document Info dictionary (DOCINFO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#document-open-options-docview">Document open options (DOCVIEW)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#embedded-file-content-embed">Embedded file content (EMBED)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Basic.html#distiller-command-line-options-to-enable-file-embedding">Distiller command line options to enable file embedding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#graphics-encapsulation-bp-ep-sp">Graphics encapsulation (BP, EP, SP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#marked-content-mp-dp-bmc-bdc-emc">Marked content (MP, DP, BMC, BDC, EMC)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Basic.html#marked-content-points">Marked-content points</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Basic.html#marked-content-sequences">Marked-content sequences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#metadata-metadata">Metadata (Metadata)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#named-images-ni">Named images (NI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#page-crops-page-pages">Page crops (PAGE, PAGES)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#page-label-and-plate-color-pagelabel">Page label and plate color (PAGELABEL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Basic.html#transparency-settransparency">Transparency (SetTransparency)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Basic.html#transparency-group-xobject-and-soft-mask">Transparency group XObject and soft mask</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pdfmark_Basic.html#transparency-group-xobject">Transparency group XObject</a></li>
<li class="toctree-l4"><a class="reference internal" href="pdfmark_Basic.html#soft-mask-dictionaries">Soft mask dictionaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="pdfmark_Basic.html#soft-mask-images">Soft mask images</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pdfmark_Actions.html">Actions and Destinations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Actions.html#actions">Actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Actions.html#goto-actions">GoTo actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Actions.html#gotor-actions">GoToR actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Actions.html#launch-actions">Launch actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Actions.html#article-actions">Article actions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Actions.html#destinations">Destinations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Actions.html#view-destinations">View destinations</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Actions.html#defining-named-destinations">Defining named destinations</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Actions.html#referencing-named-destinations">Referencing named destinations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pdfmark_Logical.html">Logical Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Logical.html#elements-and-parents">Elements and parents</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Logical.html#structure-operators">Structure operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Logical.html#structure-tree-root">Structure Tree Root</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#strolemap">StRoleMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stclassmap">StClassMap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Logical.html#elements">Elements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stpne">StPNE</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stbookmarkroot">StBookmarkRoot</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stpush">StPush</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stpop">StPop</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stpopall">StPopAll</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stupdate">StUpdate</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Logical.html#element-content">Element content</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stbmc">StBMC</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stbdc">StBDC</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#emc">EMC</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stobj">StOBJ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Logical.html#attribute-objects">Attribute objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stattr">StAttr</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Logical.html#storage-and-retrieval-of-the-implicit-parent-stack">Storage and retrieval of the implicit parent stack</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#ststore">StStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdfmark_Logical.html#stretrieve">StRetrieve</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Logical.html#eps-considerations">EPS considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Logical.html#tagged-pdf">Tagged PDF</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pdfmark_Examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Examples.html#building-an-output-intents-array">Building an Output Intents array</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Examples.html#named-object-examples">Named object examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Examples.html#forms-examples">Forms examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_Examples.html#structure-examples">Structure examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pdfmark_JDF.html">JDF Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_JDF.html#syntax">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdfmark_JDF.html#xpath-examples">XPath Examples</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Distilling Optional Content</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#initialization-and-termination-code">Initialization and termination code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#procedure-definitions">Procedure definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#addasevent">AddASEvent</a></li>
<li class="toctree-l3"><a class="reference internal" href="#beginoc">BeginOC</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endoc">EndOC</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getocgpdfmarktag">GetOCGPdfmarkTag</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ocendpage">OCEndPage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setocginitstate">SetOCGInitState</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setocgintent">SetOCGIntent</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setocgusage">SetOCGUsage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simpleoc">SimpleOC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../index.html#://">Master Doc Search and TOC</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

        <!--- @@@@@@@@@@@@@@@@ Custom @@@@@@@@@@@@@@@@ -->
        <div class="fixedbar">  
          <div class="wy-menu-items">
            <a href="https://www.adobe.com/go/dc_developer" class="topbarlink">Acrobat Developer Home</a>
            <a href="https://www.adobe.io/apis/documentcloud/dcsdk/" class="topbarlink">Document Services SDK</a>
            <a href="https://www.adobe.com/go/acrobatsigndevguide" class="topbarlink">Acrobat Sign SDK</a>
            <a href="https://www.adobe.com/go/acrobatsdk_home" class="topbarlink">Acrobat SDK</a>
            <a href="https://www.adobe.com/go/pdflibrary" class="topbarlink">PDF Library SDK</a>
          </div>  
          <div class="sign-in">
            <a href="https://adminconsole.adobe.com//" class="btn btn-console">Console</a>
           <!-- <a href="https://auth.services.adobe.com/en_US/index.html">Sign in</a>-->
          </div>
        </div>
        <!--- @@@@@@@@@@@@@@@@ Custom @@@@@@@@@@@@@@@@ -->




   
      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="toc.html">Acrobat-PDFL SDK:  PDFMark Reference</a>
        
      </nav>


      <div class="wy-nav-content">
      <a href="#" id="scroll" style="display:inline;"><span></span></a>
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="toc.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Distilling Optional Content</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
      
        <a href="pdfmark_JDF.html" class="btn btn-neutral float-left" title="JDF Features" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="distilling-optional-content">
<h1>Distilling Optional Content<a class="headerlink" href="#distilling-optional-content" title="Permalink to this headline">¶</a></h1>
<p>The ProcSet entry in a content stream’s resource dictionary holds an array consisting of the names of the procedure sets used in that content stream. This section describes the ProcSet used to build optional content into a PDF document.</p>
<p>Optional content refers to content in a PDF document that can be selectively viewed or hidden. Optional content is a feature that became available with Acrobat 6.</p>
<p>For more information on ProcSet entries and optional content, see the <a class="reference external" href="https://www.adobe.com/go/pdfreference">PDF Reference</a> .</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While the optional content ProcSet makes extensive use of pdfmark internally, clients of the optional content ProcSet should not have to use pdfmark to add optional content to a PDF file.</p>
</div>
<div class="section" id="initialization-and-termination-code">
<h2>Initialization and termination code<a class="headerlink" href="#initialization-and-termination-code" title="Permalink to this headline">¶</a></h2>
<p>To use the optional content ProcSet, clients must insert the following code into the document setup section of the PostScript job. This places definitions of the optional content ProcSet procedures in <code class="docutils literal notranslate"><span class="pre">userdict</span></code> for easy access by the client.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">/</span><span class="n">OCProcSet</span> <span class="o">/</span><span class="n">ProcSet</span> <span class="n">findresource</span><span class="p">}</span> <span class="n">stopped</span> <span class="ow">not</span>
 <span class="p">{</span><span class="o">/</span><span class="n">initialize</span> <span class="n">get</span> <span class="n">exec</span><span class="p">}</span>
 <span class="p">{</span>
     <span class="o">/</span><span class="n">BeginOC</span> <span class="o">/</span><span class="n">pop</span> <span class="n">load</span> <span class="k">def</span>
     <span class="o">/</span><span class="n">EndOC</span> <span class="p">{}</span> <span class="k">def</span>
     <span class="o">/</span><span class="n">SimpleOC</span> <span class="o">/</span><span class="n">pop</span> <span class="n">load</span> <span class="k">def</span>
     <span class="o">/</span><span class="n">SetOCGInitState</span> <span class="p">{</span><span class="n">pop</span> <span class="n">pop</span><span class="p">}</span> <span class="n">bind</span> <span class="k">def</span>
     <span class="o">/</span><span class="n">OCEndPage</span> <span class="p">{}</span> <span class="k">def</span>
     <span class="o">/</span><span class="n">SetOCGIntent</span> <span class="p">{</span><span class="n">pop</span> <span class="n">pop</span><span class="p">}</span> <span class="n">bind</span> <span class="k">def</span>
     <span class="o">/</span><span class="n">SetOCGUsage</span> <span class="p">{</span><span class="n">pop</span> <span class="n">pop</span><span class="p">}</span> <span class="n">bind</span> <span class="k">def</span>
     <span class="o">/</span><span class="n">AddASEvent</span> <span class="p">{</span><span class="n">pop</span> <span class="n">pop</span> <span class="n">pop</span><span class="p">}</span> <span class="n">bind</span> <span class="k">def</span>
     <span class="o">/</span><span class="n">GetOCGPdfmarkTag</span> <span class="p">{{</span><span class="o">---</span><span class="n">invalidpdfmarkname</span><span class="o">---</span><span class="p">}}</span> <span class="n">bind</span> <span class="k">def</span>
 <span class="p">}</span>
 <span class="n">ifelse</span>
</pre></div>
</div>
<p>Also, the following code must be inserted into the trailer section of the PostScript file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">/</span><span class="n">OCProcSet</span> <span class="o">/</span><span class="n">ProcSet</span> <span class="n">findresource</span> <span class="o">/</span><span class="n">terminate</span> <span class="n">get</span> <span class="n">exec</span><span class="p">}</span> <span class="n">stopped</span> <span class="n">pop</span>
</pre></div>
</div>
<p>When using the optional content ProcSet, the optional content group is the primary data item. It is referred to by the group’s name, which is a string object. (See the description of the entries in the optional content group dictionary in the <a class="reference external" href="https://www.adobe.com/go/pdfreference">PDF Reference</a> .) Clients of the ProcSet do not need to do anything to set up optional content groups—they simply refer to them by their name strings, and the ProcSet takes care of creating them on-the-fly. Clients can set the initial state, intent, and usage info for optional content groups, using <code class="docutils literal notranslate"><span class="pre">SetOCGInitState</span></code> , <code class="docutils literal notranslate"><span class="pre">SetOCGIntent</span></code> , and <code class="docutils literal notranslate"><span class="pre">SetOCGUsage</span></code> , respectively.</p>
<p>There are two techniques for using the ProcSet to make content optional: one for non-nested optional content, and one for nested optional content:</p>
<ul class="simple">
<li><p>The simplest technique is for non-nested optional content using the <code class="docutils literal notranslate"><span class="pre">SimpleOC</span></code> procedure. Simply pass in a string for the optional content group name, and all marks up to the next <code class="docutils literal notranslate"><span class="pre">SimpleOC</span></code> belong to the optional content group with that name. Passing in <code class="docutils literal notranslate"><span class="pre">null</span> <span class="pre">SimpleOC</span></code> makes subsequent content non-optional. At the end of the page, before the <code class="docutils literal notranslate"><span class="pre">showpage</span></code> , issue <code class="docutils literal notranslate"><span class="pre">null</span> <span class="pre">SimpleOC</span></code> .</p></li>
<li><p>For nested optional content, the technique is for documents that have nested visibility control. For these the ProcSet provides stack-style optional content control. This is also the style of control used if you have content that requires an Optional Content Membership Dictionary (OCMD), because it belongs to more than one optional content group and can require a visibility policy entry in the OCMD. For this sort of optional content, use the <code class="docutils literal notranslate"><span class="pre">BeginOC</span></code> and <code class="docutils literal notranslate"><span class="pre">EndOC</span></code> procedures. With this style, you should call <code class="docutils literal notranslate"><span class="pre">OCEndPage</span></code> at the end of the page (before <code class="docutils literal notranslate"><span class="pre">showpage</span></code> ). This ensures that the marked content is closed properly.</p></li>
</ul>
</div>
<div class="section" id="procedure-definitions">
<h2>Procedure definitions<a class="headerlink" href="#procedure-definitions" title="Permalink to this headline">¶</a></h2>
<p>This section describes the optional content procedures and provides their syntax and examples.</p>
<div class="section" id="addasevent">
<h3>AddASEvent<a class="headerlink" href="#addasevent" title="Permalink to this headline">¶</a></h3>
<p>Adds an auto state event to the PDF’s default configuration. See the <a class="reference external" href="https://www.adobe.com/go/pdfreference">PDF Reference</a> for a description of auto state control for optional content.</p>
<p><strong>Syntax</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">event_type</span> <span class="n">event_categories</span> <span class="n">ocgnames</span> <span class="n">AddASEvent</span>
</pre></div>
</div>
<p><strong>Parameters</strong></p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>event_type</p></td>
<td><p>Must be a PostScript name. Either <code class="docutils literal notranslate"><span class="pre">/View</span></code> , <code class="docutils literal notranslate"><span class="pre">/Print</span></code> , or <code class="docutils literal notranslate"><span class="pre">/Export</span></code> .</p></td>
</tr>
<tr class="row-even"><td><p>event_categories</p></td>
<td><p>Must be a PostScript array of name objects (typically matching keys in optional content group usage dictionaries). For a description of usage dictionaries, see the <a class="reference external" href="https://www.adobe.com/go/pdfreference">PDF Reference</a></p></td>
</tr>
<tr class="row-odd"><td><p>ocgnames</p></td>
<td><p>Array of valid PostScript string variables representing optional content groups</p></td>
</tr>
</tbody>
</table>
<p><strong>**Example**</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">View</span> <span class="p">[</span><span class="o">/</span><span class="n">Zoom</span><span class="p">]</span> <span class="p">[(</span><span class="mi">30</span><span class="p">,</span><span class="mi">000</span> <span class="n">Feet</span><span class="p">)</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">000</span> <span class="n">Feet</span><span class="p">)</span> <span class="p">(</span><span class="mi">100</span> <span class="n">Feet</span><span class="p">)]</span> <span class="n">AddASEvent</span>
</pre></div>
</div>
<p>The example declares that the three optional content groups named <code class="docutils literal notranslate"><span class="pre">30,000</span> <span class="pre">Feet</span></code> , <code class="docutils literal notranslate"><span class="pre">5,000</span> <span class="pre">Feet</span></code> , and <code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">Feet</span></code> are to be controlled for on-screen viewing, based on the current zoom level and the <code class="docutils literal notranslate"><span class="pre">/Zoom</span></code> information in each optional content group’s <code class="docutils literal notranslate"><span class="pre">Usage</span></code> dictionary.</p>
</div>
<div class="section" id="beginoc">
<h3>BeginOC<a class="headerlink" href="#beginoc" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">BeginOC</span></code> procedure is used to begin a span of content that belongs to the optional content groups supplied. It is used for nested visibility control when content can belong to more than one optional content group. Both multiple membership (using the array of optional content group names) and stack-based nesting are supported. The <code class="docutils literal notranslate"><span class="pre">EndOC</span></code> calls must come before the <code class="docutils literal notranslate"><span class="pre">showpage</span></code> call of any page. Every <code class="docutils literal notranslate"><span class="pre">BeginOC</span></code> call should have a matching <code class="docutils literal notranslate"><span class="pre">EndOC</span></code> call.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You cannot mix <code class="docutils literal notranslate"><span class="pre">SimpleOC</span></code> and <code class="docutils literal notranslate"><span class="pre">BeginOC/EndOC</span></code> on the same page.</p>
</div>
<p id="syntax-1"><strong>Syntax</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ocgname</span> <span class="n">BeginOC</span>
<span class="n">ocgnames</span> <span class="n">BeginOC</span>
<span class="n">ocgname</span>
<span class="n">policy</span>
 <span class="n">BeginOC</span>
<span class="n">ocgnames</span>
<span class="n">policy</span>
 <span class="n">BeginOC</span>
</pre></div>
</div>
<p id="parameters-1"><strong>Parameters</strong></p>
<table class="colwidths-given docutils align-default" id="section-1">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>ocgname</p></td>
<td><p>Array of string objects identifying a set of optional content groups.</p></td>
</tr>
<tr class="row-even"><td><p>ocgnames</p></td>
<td><p>String object identifying an optional content group.</p></td>
</tr>
<tr class="row-odd"><td><p>policy</p></td>
<td><p>Optional. One of the following names: <code class="docutils literal notranslate"><span class="pre">/AllOn</span></code> , <code class="docutils literal notranslate"><span class="pre">/AnyOn</span></code> , <code class="docutils literal notranslate"><span class="pre">/AllOff</span></code> , or <code class="docutils literal notranslate"><span class="pre">/AnyOff</span></code> , identifying the visibility policy to use. If no <code class="docutils literal notranslate"><span class="pre">policy</span></code> is specified, <code class="docutils literal notranslate"><span class="pre">/AnyOn</span></code> is used by default.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference external" href="pdfmark_OC_Interface.html#50454551_83170">EndOC</a></p>
</div>
</div>
<div class="section" id="endoc">
<h3>EndOC<a class="headerlink" href="#endoc" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">EndOC</span></code> procedure is used to end a span of optional content. It is used to close a span of optional content started by <code class="docutils literal notranslate"><span class="pre">BeginOC</span></code> . Both multiple membership (using an array of optional content group names) and stack-based nesting are supported. The <code class="docutils literal notranslate"><span class="pre">EndOC</span></code> calls must come before the <code class="docutils literal notranslate"><span class="pre">showpage</span></code> call of any page.</p>
<p>Every <code class="docutils literal notranslate"><span class="pre">BeginOC</span></code> call should have a matching <code class="docutils literal notranslate"><span class="pre">EndOC</span></code> call.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You cannot mix <code class="docutils literal notranslate"><span class="pre">SimpleOC</span></code> and <code class="docutils literal notranslate"><span class="pre">BeginOC/EndOC</span></code> on the same page.</p>
</div>
<p id="syntax-2"><strong>Syntax</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EndOC</span>
</pre></div>
</div>
<p id="see-also-1">See also</p>
<p><a class="reference external" href="pdfmark_OC_Interface.html#50454551_51091">BeginOC</a></p>
</div>
<div class="section" id="getocgpdfmarktag">
<h3>GetOCGPdfmarkTag<a class="headerlink" href="#getocgpdfmarktag" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">GetOCGPdfmarkTag</span></code> returns the object that the ProcSet implementation uses to identify the optional content group object for pdfmark. Using this object, the client can use the <code class="docutils literal notranslate"><span class="pre">/PUT</span></code> pdfmark command to add additional key/value pairs to the optional content group dictionary.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">GetOCGPdfmarkTag</span></code> is not available in the OCProcSet <code class="docutils literal notranslate"><span class="pre">userdict</span></code> by default. To use this procedure, you can add the following to the OCProcSet initialization code within its <code class="docutils literal notranslate"><span class="pre">{/initialize</span> <span class="pre">get</span> <span class="pre">exec</span> <span class="pre">...</span> <span class="pre">end}</span></code> clause:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">userdict</span> <span class="n">begin</span>
      <span class="o">/</span><span class="n">GetOCGPdfmarkTag</span> <span class="n">dup</span> <span class="n">OCProcSetRes</span> <span class="n">exch</span> <span class="n">get</span> <span class="k">def</span>
   <span class="nf">end</span>
</pre></div>
</div>
<p id="syntax-3"><strong>Syntax</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ocgname</span>
 <span class="n">GetOCGPdfmarkTag</span>
<span class="n">procedure</span>
</pre></div>
</div>
<p id="parameters-2"><strong>Parameters</strong></p>
<table class="colwidths-given docutils align-default" id="section-2">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>ocgname</p></td>
<td><p>String object identifying an optional content group</p></td>
</tr>
</tbody>
</table>
<p>Returns</p>
<p>The optional content group’s <code class="docutils literal notranslate"><span class="pre">/OBJ</span></code> pdfmark tag.</p>
<p id="see-also-2">See also</p>
<p>pdfmark <code class="docutils literal notranslate"><span class="pre">/OBJ</span></code> and <code class="docutils literal notranslate"><span class="pre">/PUT</span></code> commands.</p>
<p id="example-1"><strong>**Example**</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="n">MyLayer</span><span class="p">)</span> <span class="n">GetOCGPdfmarkTag</span> <span class="o">&lt;&lt;/</span><span class="n">key1</span> <span class="p">(</span><span class="n">easy</span> <span class="k">as</span><span class="p">)</span> <span class="o">/</span><span class="n">key2</span> <span class="mf">3.14159</span><span class="o">&gt;&gt;</span> <span class="o">/</span><span class="n">PUT</span> <span class="n">pdfmark</span>
</pre></div>
</div>
<p>This example adds the key/value pairs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">key1</span> <span class="p">(</span><span class="n">easy</span> <span class="k">as</span><span class="p">)</span>
 <span class="o">/</span><span class="n">key2</span> <span class="mf">3.14159</span>
</pre></div>
</div>
<p>to the dictionary for the optional content group with the name <code class="docutils literal notranslate"><span class="pre">MyLayer</span></code> .</p>
</div>
<div class="section" id="ocendpage">
<h3>OCEndPage<a class="headerlink" href="#ocendpage" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">OCEndPage</span></code> is called at the end of the page in a multi-page PostScript file to allow the ProcSet to close any open optional content on the current page. It can be used to close a call to either <code class="docutils literal notranslate"><span class="pre">SimpleOC</span></code> or <code class="docutils literal notranslate"><span class="pre">BeginOC</span></code> .</p>
<p id="syntax-4"><strong>Syntax</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OCEndPage</span>
</pre></div>
</div>
</div>
<div class="section" id="setocginitstate">
<h3>SetOCGInitState<a class="headerlink" href="#setocginitstate" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">SetOCGInitState</span></code> procedure sets the initial state of an optional content group to be either ON (<code class="docutils literal notranslate"><span class="pre">true</span></code> ) or OFF (<code class="docutils literal notranslate"><span class="pre">false</span></code> ).</p>
<p id="syntax-5"><strong>Syntax</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ocgname</span> <span class="nb">bool</span> <span class="n">SetOCGInitState</span>
</pre></div>
</div>
<p id="parameters-3"><strong>Parameters</strong></p>
<table class="colwidths-given docutils align-default" id="section-3">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>ocgname</p></td>
<td><p>Valid PostScript string variable representing an optional content group.</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code> . Value of ocgname’s initial state. For a description of an optional content group’s state, see the <a class="reference external" href="https://www.adobe.com/go/pdfreference">PDF Reference</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="setocgintent">
<h3>SetOCGIntent<a class="headerlink" href="#setocgintent" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">SetOCGIntent</span></code> procedure sets the <code class="docutils literal notranslate"><span class="pre">Intent</span></code> key in ocgname to intent.</p>
<p id="syntax-6"><strong>Syntax</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ocgname</span> <span class="n">intent</span> <span class="n">SetOCGIntent</span>
</pre></div>
</div>
<p id="parameters-4"><strong>Parameters</strong></p>
<table class="colwidths-given docutils align-default" id="section-4">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>ocgname</p></td>
<td><p>Valid PostScript string variable representing an optional content group.</p></td>
</tr>
<tr class="row-even"><td><p>intent</p></td>
<td><p>Value of ocgname’s <code class="docutils literal notranslate"><span class="pre">Intent</span></code> key, such as <code class="docutils literal notranslate"><span class="pre">/Design</span></code> , <code class="docutils literal notranslate"><span class="pre">/View</span></code> , <code class="docutils literal notranslate"><span class="pre">/All</span></code> , or <code class="docutils literal notranslate"><span class="pre">/None</span></code> , or an array of names, excluding <code class="docutils literal notranslate"><span class="pre">/All</span></code> and <code class="docutils literal notranslate"><span class="pre">/None</span></code> For a description of an optional content group’s <code class="docutils literal notranslate"><span class="pre">Intent</span></code> key, see the <a class="reference external" href="https://www.adobe.com/go/pdfreference">PDF Reference</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="setocgusage">
<h3>SetOCGUsage<a class="headerlink" href="#setocgusage" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">SetOCGUsage</span></code> procedure sets the <code class="docutils literal notranslate"><span class="pre">Usage</span></code> key in ocgname to the dict supplied. This is the top level usage dictionary, not a usage category dictionary. Only one call per optional content group is honored, so the client must collect all usage subdictionaries and issue a single call to set the <code class="docutils literal notranslate"><span class="pre">Usage</span></code> dictionary for the optional content group.</p>
<p id="syntax-7"><strong>Syntax</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ocgname</span> <span class="nb">dict</span> <span class="n">SetOCGUsage</span>
</pre></div>
</div>
<p id="parameters-5"><strong>Parameters</strong></p>
<table class="colwidths-given docutils align-default" id="section-5">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>ocgname</p></td>
<td><p>Valid PostScript string variable representing an optional content group.</p></td>
</tr>
<tr class="row-even"><td><p>dict</p></td>
<td><p>Value of ocgname’s <code class="docutils literal notranslate"><span class="pre">Usage</span></code> key, which is a dictionary. For a description of an optional content group’s <code class="docutils literal notranslate"><span class="pre">Usage</span></code> key, see the <a class="reference external" href="https://www.adobe.com/go/pdfreference">PDF Reference</a> . By default, there is no <code class="docutils literal notranslate"><span class="pre">Usage</span></code> key in the optional content group’s dictionary. Th</p></td>
</tr>
</tbody>
</table>
<p id="example-2"><strong>**Example**</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">000</span> <span class="n">Feet</span><span class="p">)</span> <span class="o">&lt;&lt;/</span><span class="n">Zoom</span> <span class="o">&lt;&lt;</span> <span class="o">/</span><span class="nb">max</span> <span class="mf">0.5</span> <span class="o">&gt;&gt;</span> <span class="o">&gt;&gt;</span> <span class="n">SetOCGUsage</span>
 <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">000</span> <span class="n">Feet</span><span class="p">)</span> <span class="o">&lt;&lt;/</span><span class="n">Zoom</span> <span class="o">&lt;&lt;</span> <span class="o">/</span><span class="nb">min</span> <span class="mf">0.5</span> <span class="o">/</span><span class="nb">max</span> <span class="mi">4</span><span class="o">&gt;&gt;</span> <span class="o">&gt;&gt;</span> <span class="n">SetOCGUsage</span>
 <span class="p">(</span><span class="mi">100</span> <span class="n">Feet</span><span class="p">)</span> <span class="o">&lt;&lt;/</span><span class="n">Zoom</span> <span class="o">&lt;&lt;</span> <span class="o">/</span><span class="nb">min</span> <span class="mi">4</span> <span class="o">&gt;&gt;</span> <span class="o">&gt;&gt;</span> <span class="n">SetOCGUsage</span>
</pre></div>
</div>
<p>This example specifies, in conjunction with the <code class="docutils literal notranslate"><span class="pre">AddASEvent</span></code> example, that the objects in the <code class="docutils literal notranslate"><span class="pre">30,000</span> <span class="pre">Feet</span></code> optional content group should be visible when the zoom level is less than 50%, the objects in the <code class="docutils literal notranslate"><span class="pre">5,000</span> <span class="pre">Feet</span></code> optional content group should be visible between 50% and 400%, and the objects in the <code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">Feet</span></code> optional content group should be visible when the zoom level is at least 400%.</p>
</div>
<div class="section" id="simpleoc">
<h3>SimpleOC<a class="headerlink" href="#simpleoc" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">SimpleOC</span></code> procedure ends any current optional content span, and begins a new one where the content belongs to <code class="docutils literal notranslate"><span class="pre">ocgname</span></code> .</p>
<p>To use the <code class="docutils literal notranslate"><span class="pre">SimpleOC</span></code> procedure, simply pass in a string for the optional content group name, and all marks up to the next <code class="docutils literal notranslate"><span class="pre">SimpleOC</span></code> belong to the optional content group with that name. Passing in <code class="docutils literal notranslate"><span class="pre">null</span> <span class="pre">SimpleOC</span></code> makes subsequent content non-optional. At the end of the page, before the <code class="docutils literal notranslate"><span class="pre">showpage</span></code> , issue <code class="docutils literal notranslate"><span class="pre">null</span> <span class="pre">SimpleOC</span></code> .</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You cannot mix <code class="docutils literal notranslate"><span class="pre">SimpleOC</span></code> and <code class="docutils literal notranslate"><span class="pre">BeginOC/EndOC</span></code> on the same page.</p>
</div>
<p id="syntax-8"><strong>Syntax</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ocgname</span> <span class="n">SimpleOC</span>
</pre></div>
</div>
<p id="parameters-6"><strong>Parameters</strong></p>
<table class="colwidths-given docutils align-default" id="section-6">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>ocgname</p></td>
<td><p>Valid PostScript string variable representing an optional content group.</p></td>
</tr>
</tbody>
</table>
<p id="example-3"><strong>Example</strong></p>
<p>To show content on all layers (at all times):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">null</span> <span class="n">SimpleOC</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Adobe Inc..
      <span class="lastupdated">
        Last update: Jun 24, 2022. 
        <img src="../../_static/adobelogo.png" class="logo"/> 
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>