<!DOCTYPE HTML>
<html>
<head>

 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>HostContainer properties</title>

 <meta name="generator" content="Adobe FrameMaker 2015" />
 <meta name="Originator" content="ImportMif" />
 <meta name="OriginalFile" content="C:\Users\Perforce\Work\Groups\SDK\main\Documents\Acrobat_SDK\Acrobat_12.0 - Nov 2015\docs_fm\JavaScript\AcroJS\JS_API_AcroJS.fm" />
 <link rel="stylesheet" href="JS_API_AcroJS.css" type="text/css" />


<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../..";
gCommonRootRelPath = "../..";
gTopicId = "5.2.1.35.1";
</script>
 <meta name="brsprev" value="Acro12_MasterBook/JS_API_AcroJS/HostContainer.htm">
 <meta name="brsnext" value="Acro12_MasterBook/JS_API_AcroJS/HostContainer_methods.htm">
 <meta name="topic-breadcrumbs" content="JavaScript > JavaScript for Acrobat API Reference > JavaScript API > HostContainer" />
</head>

<body dir="ltr">
<script type="text/javascript" src="../../ehlpdhtm.js"></script>
<div dir="ltr">
  <h3>HostContainer properties</h3>
  <p class="BodyLevel1"><a href="#XREF_85023_messageHandler"><span class="FM_HyperText">messageHandler</span></a></p>
  <h4><a name="TOC_messageHandler1"></a><a name="XREF_85023_messageHandler"></a>messageHandler</h4>
<div width="100%" align="left">
  <table dir="ltr" style=" border-spacing:0; padding-left:4.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:4.00pt; float:alignleft; width:100%; direction:ltr; max-width:118.80pt;" cellspacing="0">
   <tr style=" height : 24.98pt;">
   <td style="width : 32.400pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-left-style: solid; border-left-width: 1px; border-left-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody">7.0.5</p>
</td>
   <td style="width : 28.800pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody">&nbsp;</p>
</td>
   <td style="width : 28.800pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody">&nbsp;</p>
</td>
   <td style="width : 28.800pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody">&nbsp;</p>
</td>
</tr>
  </table>
</div>
  <p class="BodyLevel1">A notification object that is called if a script in the host container calls the <span class="FM_Courier">postMessage</span>&#160;method. This object may expose the following methods and properties:</p>
<div width="100%" align="left">
  <table dir="ltr" style=" border-spacing:0; padding-left:4.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:4.00pt; float:alignleft; width:100%; direction:ltr; max-width:460.80pt;" cellspacing="0">
   <tr style=" height : 20.50pt;">
   <th style="width : 115.200pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableHead">Method/Property</p>
</th>
   <th style="width : 345.600pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableHead">Description</p>
</th>
</tr>
   <tr style=" height : 45.50pt;">
   <td style="width : 115.200pt; border-bottom-style: solid; border-bottom-width: 0px; border-bottom-color: #999999; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody"><span class="FM_Courier">onMessage</span>&#160;</p>
</td>
   <td style="width : 345.600pt; border-bottom-style: solid; border-bottom-width: 0px; border-bottom-color: #999999; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody">(Optional) A method that is called in response to <span class="FM_Courier">postMessage</span>. The message is delivered asynchronously. The method is passed a single array parameter containing the array that was passed to <span class="FM_Courier">postMessage</span>.</p>
</td>
</tr>
   <tr style=" height : 140.50pt;">
   <td style="width : 115.200pt; border-bottom-style: solid; border-bottom-width: 0px; border-bottom-color: #999999; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody"><span class="FM_Courier">onError</span>&#160;</p>
</td>
   <td style="width : 345.600pt; border-bottom-style: solid; border-bottom-width: 0px; border-bottom-color: #999999; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody">(Optional) A method that is called in response to an error. The method is passed an <span class="FM_Courier">Error</span>&#160;object and an array of strings corresponding to the message that caused the error. </p>
   <p class="FM_TableBody">The <span class="FM_Courier">name</span>&#160;property of the <span class="FM_Courier">Error</span> object is set to one of these:</p>
   <p class="FM_Indent1"><span class="FM_Courier">&quot;MessageGeneralError&quot;</span>: A general error occurred.</p>
   <p class="FM_Indent1"><span class="FM_Courier">&quot;MessageNotAllowedError&quot;</span>: The operation failed for security reasons.</p>
   <p class="FM_TableBody">If an error occurs and this property is undefined, the error will not be delivered (unlike messages, errors are not queued).</p>
</td>
</tr>
   <tr style=" height : 160.50pt;">
   <td style="width : 115.200pt; border-bottom-style: solid; border-bottom-width: 0px; border-bottom-color: #999999; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody"><span class="FM_Courier">onDisclose</span>&#160;</p>
</td>
   <td style="width : 345.600pt; border-bottom-style: solid; border-bottom-width: 0px; border-bottom-color: #999999; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody">A required method that is called to determine whether the host application is permitted to send messages to the document. This allows the PDF document author to control the conditions under which messaging can occur for security reasons. The method should be set during the <span class="FM_Courier">Doc/Open</span>&#160;event. The method is passed two parameters:</p>
   <p class="FM_Indent1"><span class="FM_CourierBold">cURL</span>&#160;— The URL indicating the location of the host container (for example, the URL of an HTML page using an &lt;OBJECT&gt; tag).</p>
   <p class="FM_Indent1"><span class="FM_CourierBold">cDocumentURL</span>&#160;— The URL of the PDF document that disclosure is being checked for.</p>
   <p class="FM_TableBody">If the method returns <span class="FM_Courier">true</span>, the host container is permitted to post messages to the message handler. </p>
</td>
</tr>
   <tr style=" height : 70.50pt;">
   <td style="width : 115.200pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody"><span class="FM_Courier">allowDeliver<br />WhileDocIsModal</span>&#160;</p>
</td>
   <td style="width : 345.600pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
   <p class="FM_TableBody">A Boolean value indicating whether messages and errors will be delivered while the document is in a modal state. By default (<span class="FM_Courier">false</span>), messages and errors are queued and not delivered to the <span class="FM_Courier">onMessage</span>&#160;and <span class="FM_Courier">onError</span>&#160;handlers if the application is currently displaying a modal dialog. The <span class="FM_Courier">app.isModal</span> property can be used to detect this case.</p>
</td>
</tr>
  </table>
</div>
  <p class="FM_Note"><span class="FM_Z_NoteCaution">Note:<span style="padding-left: 4pt;" class="FMAutoNumber_1"></span></span>Instead of specifying a method, <span class="FM_Courier">onDisclose</span>&#160;may specify the value <span class="FM_Courier">HostContainerDisclosurePolicy.SameOriginPolicy</span>, which means that the document will be disclosed to the host container if they both originate from the same location. In this case, the origination is determined by the scheme, server, and port. The scheme must be <span class="FM_Courier">http</span>, <span class="FM_Courier">https</span>, or <span class="FM_Courier">ftp</span>&#160;for the document to be disclosed.</p>
  <p class="BodyLevel1">When these methods are invoked, the <span class="FM_Courier">this</span>&#160;object will be the <span class="FM_Courier">messageHandler</span>&#160;instance that the method is being called on. </p>
  <p class="BodyLevel1">Other methods and properties can be added to <span class="FM_Courier">messageHandler</span>&#160;provided that they do not begin with <span class="FM_Courier">on</span>. </p>
  <p class="BodyLevel1">If <span class="FM_Courier">messageHandler</span>&#160;is set to <span class="FM_Courier">null</span>&#160;or an object without an <span class="FM_Courier">onMessage</span>&#160;method, messages sent by <span class="FM_Courier">postMessage</span>&#160;are queued until the property is set to a valid <span class="FM_Courier">messageHandler</span>&#160;instance. </p>
  <p class="BodyLevel1">Messages are guaranteed to be delivered in the order in which they are posted and errors are guaranteed to be delivered in the order in which they occurred. However, there is no correspondence between the delivery order of messages and errors.</p>
  <p class="BodyLevel1">Exceptions thrown from within the handler methods will be discarded. If an exception is thrown from within <span class="FM_Courier">onDisclose</span>, the function will be treated as a failure. Messages and errors will not be delivered while inside an <span class="FM_Courier">onMessage</span>&#160;/ <span class="FM_Courier">onError</span>&#160;/ <span class="FM_Courier">onDisclose</span> handler.</p>
  <h5>Type</h5>
  <p class="BodyLevel1">Object</p>
  <h5>Access</h5>
  <p class="BodyLevel1">R/W</p>
  <h5>Example</h5>
  <p class="BodyLevel1">A generic host container message handler.</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>this.hostContainer.messageHandler =</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>{</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>onMessage: function(aMessage)</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>{</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>for(var i = 0; i &lt; aMessage.length; i++)</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span> console.println(&quot;Recv’d Msg[ &quot; + i + &quot;]: &quot; + aMessage[i]);</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>},</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>onError: function(error, aMessage){ },</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>onDisclose: HostContainerDisclosurePolicy.SameOriginPolicy</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>};</p>
  </div>
</body>
</html>