<!DOCTYPE HTML>
<html>
<head>

 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>Starting the Common Interface for the PDF Library</title>

 <meta name="generator" content="Adobe FrameMaker 2015" />
 <meta name="Originator" content="ImportMif" />
 <meta name="OriginalFile" content="C:\Users\Perforce\Work\Groups\SDK\main\Documents\Common\docs_fm\SnippetRunnerCookbook\Snippet_SnippetRunnerCookbook.fm" />
 <link rel="stylesheet" href="Snippet_SnippetRunnerCookbook.css" type="text/css" />


<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../..";
gCommonRootRelPath = "../..";
gTopicId = "1.4.1.1.2";
</script>
 <meta name="brsprev" value="Acro12_MasterBook/Snippet_SnippetRunnerCookbook/Starting_the_SnippetRunner_and_the_Common_Interface.htm">
 <meta name="brsnext" value="Acro12_MasterBook/Snippet_SnippetRunnerCookbook/Using_the_Common_Interface.htm">
 <meta name="topic-breadcrumbs" content="Introduction to SDK > Snippet Runner Cookbook > Introduction > Installing and running SnippetRunner" />
</head>

<body dir="ltr">
<script type="text/javascript" src="../../ehlpdhtm.js"></script>
<div dir="ltr">
  <h3><a name="XREF_17596_Starting_the"></a>Starting the Common Interface for the PDF Library</h3>
  <p class="BodyLevel1">This section describes how to start the Java version of the Common Interface to be used with the PDF Library SDK.</p>
  <p class="BodyLevel1">You may load the Common Interface as a standalone Java application or as a Java applet. The following sections describe the procedures for each of these cases. The Common Interface is packaged as a Java Archive (JAR) file containing Java byte code (class files) and associated resources. This file is CommonInterface.jar in the <span class="FM_Courier">SnippetRunner</span>&#160;folder. The JAR format provides for resource integrity and also allows the content of the archive to be digitally signed, which is required so that the Common Interface can be certified to run as an applet by a web browser's JVM. </p>
  <h4><a name="TOC_Creating_the"></a>Creating the configuration file </h4>
  <p class="BodyLevel1">The first time the Common Interface is invoked, a configuration file (pdflsdk.config) is automatically generated and stored in the user's home directory. </p>
  <p class="BodyLevel1">To ensure that the contents of this file are created accurately, you must launch the Common Interface from its installed location in the SnippetRunner folder so that a <span class="FM_Italic">base</span>&#160;directory (a platform-specific absolute path to the SnippetRunner folder) can be properly written to the file. This path is used by the Common Interface to locate reference files and snippet source code at run time. Once this configuration file is written, the Common Interface can be invoked from any folder location. </p>
  <p class="BodyLevel1">If a path other than that of the SnippetRunner folder is written to the configuration file, the Common Interface will not function properly. If this occurs, delete the configuration file and restart the Common Interface from its base directory. </p>
  <h5>Running as a standalone Java application </h5>
  <p class="BodyLevel1">This section explains how you can run the Common Interface as a standalone Java application.</p>
  <h6>To run the client as a standalone Java application: </h6>
  <p class="FM_Step"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>1.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>From a terminal or console window, switch to the directory where the CommonInterface.jar file resides (the SnippetRunner directory). </p>
  <p class="FM_Step"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>2.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>Execute the following command: <span class="FM_Courier">console&gt;java -jar -cp . CommonInterface.jar</span>&#160;</p>
  <p class="BodyLevel1">On Windows and Mac OS, you can also double-click the CommonInterface.jar icon to launch the Common Interface. (This procedure assumes that the JAR file extension has not been associated with other applications after your JDK/JRE installation.) The SnippetRunner Common Interface should begin running very soon thereafter. </p>
  <h5>Running as a Java applet </h5>
  <p class="BodyLevel1">To run the Common Interface client as a Java applet, you must digitally sign the JAR file before loading the client into your web browser. This requires the <span class="FM_Courier">keytool</span>&#160;and <span class="FM_Courier">jarsigner</span>&#160;command-line utilities from the J2SE Development Kit (or equivalent). </p>
  <h6>To sign the CommonInterface.jar file for running as an applet: </h6>
  <p class="FM_Step"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>1.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>Generate a public/private key pair and the self-signed certificate. </p>
  <p class="FM_Step"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>2.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>Sign the JAR file with the private key. </p>
  <p class="FM_Step"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>3.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>Load the signed client into your browser. </p>
  <p class="BodyLevel1">To generate a public/private key pair and the self-signed certificate, execute a command similar to this from a console using the <span class="FM_Courier">keytool</span>&#160;utility: </p>
  <p class="FM_CodeReference">console&gt;keytool -genkey -alias <span class="FM_CourierItalic">EntryAlias</span>&#160;-keypass <span class="FM_CourierItalic">EntryPassword</span>&#160;</p>
  <p class="BodyLevel1">where <span class="FM_CourierItalic">EntryAlias</span>&#160;is a name you want to assign for this key pair entry in the keystore and <span class="FM_CourierItalic">EntryPassword</span>&#160;is a password required to guard against that key entry. </p>
  <p class="BodyLevel1">You will be prompted for the keystore password of your choice and some information to incorporate into the self-signed certificate. The newly generated public/private key pair and the self-signed certificate will be saved in the keystore file in the default location. Refer to the JDK Security Tools documentation for details on the keystore. </p>
  <p class="BodyLevel1">To sign the JAR file with the private key, issue a command similar to the following from a console using the <span class="FM_Courier">jarsigner</span>&#160;utility: </p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>console&gt;jarsigner -storepass <span class="FM_CourierItalic">StorePass</span>&#160;-keypass <span class="FM_CourierItalic">KeyPass</span> CommonInterface.jar<br /><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span class="FM_CourierItalic">EntryAlias</span>&#160;</p>
  <p class="BodyLevel1">where <span class="FM_CourierItalic">StorePass</span>&#160;is the keystore password assigned while creating the public/private key pair entry in the previous step. <span class="FM_CourierItalic">KeyPass</span>&#160;is the key pair entry password assigned in the previous step. <span class="FM_CourierItalic">EntryAlias</span>&#160;is the name assigned to the key pair entry in the previous step. </p>
  <p class="BodyLevel1">This completes the applet signing process in preparation for the Common Interface to be run as an applet by the JVM plug-in of the platform browser. The signed JAR file contains a copy of the certificate from the keystore for the public key corresponding to the private key used to sign the JAR file. </p>
  <p class="BodyLevel1">Now that you have signed the JAR file, load the provided HTML page CommonInterface.html (in the SnippetRunner folder) into your default browser. This page is an applet starter page that marks up the applet properties. </p>
  <p class="BodyLevel1">Accept the certificate to allow the browser JVM plug-in to execute the applet byte code. The Common Interface should begin running soon thereafter, and you can interact with it within the boundary of the browser window. </p>
  <h4><a name="TOC_Known_issues"></a>Known issues</h4>
  <p class="BodyLevel1">The following issues pertain to the Java-based Common Interface. </p>
  <ul type="disc" style="Direction:Direction:ltr;
;
">
   <li>
   <p class="FM_Bullet1">The socket communication between the SnippetRunner server and client may be lost during the operating system’s sleep mode. To re-establish communication, restart the Common Interface. </p>
</li>
   <li>
   <p class="FM_Bullet1">If you start the Acrobat process by loading a PDF document into the web browser plug-in, the Common Interface socket communication will carry on with that process, which is most likely not expected. </p>
</li>
   <li>
   <p class="FM_Bullet1">Currently, only Internet Explorer supports resizable content. All other browsers render the Common Interface at a fixed dimension. </p>
</li>
   <li>
   <p class="FM_Bullet1">On Mac OS X, if you minimize the Common Interface window to the Dock and then bring it back into view, the Common Interface window might not be properly repainted. Resize the window to force the GUI to refresh. </p>
</li>
   <li>
   <p class="FM_Bullet1">On Windows, an Acrobat dialog box triggered as a result of a command issued by the Common Interface may not come up to the top of all open windows, in which case the Common Interface may seem frozen. Open Acrobat to dismiss the dialog box. </p>
</li>
  </ul>
  </div>
</body>
</html>