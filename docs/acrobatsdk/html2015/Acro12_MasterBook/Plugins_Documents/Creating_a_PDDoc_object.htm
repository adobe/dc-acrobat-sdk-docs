<!DOCTYPE HTML>
<html>
<head><meta http-equiv="refresh" content="2;url=https://opensource.adobe.com/dc-acrobat-sdk-docs/acrobatsdk/" /><meta name="robots" content="noindex, nofollow">

 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>Creating a PDDoc object</title>

 <meta name="generator" content="Adobe FrameMaker 2015" />
 <meta name="Originator" content="ImportMif" />
 <meta name="OriginalFile" content="C:\Users\Perforce\Work\Groups\SDK\main\Documents\Common\docs_fm\PluginAppsDeveloperGuide\Plugins_Documents.fm" />
 <link rel="stylesheet" href="Plugins_Documents.css" type="text/css" />


<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../..";
gCommonRootRelPath = "../..";
gTopicId = "2.1.5.3.0_1";
</script>
 <meta name="brsprev" value="Acro12_MasterBook/Plugins_Documents/Bridging_core_API_layers.htm">
 <meta name="brsnext" value="Acro12_MasterBook/Plugins_Documents/Creating_a_PDDoc_object_based_on_an_open_PDF_document.htm">
 <meta name="topic-breadcrumbs" content="Plug-ins and Applications > Overview > Working with Documents and Files > Bridging core API layers" />
</head>

<body dir="ltr">
<script type="text/javascript" src="../../ehlpdhtm.js"></script>
<div dir="ltr">
  <h3><a name="IX_ASGetDefaultFileSys_3"></a><a name="IX_ASGetDefaultFileSys_2"></a><a name="IX_PDDocOpen"></a><a name="IX_PDDocOpen_method"></a><a name="IX_access_contents"></a><a name="XREF_97094_Creating_a_PDDoc"></a>Creating a PDDoc object </h3>
  <p class="BodyLevel1">You can access a PDF fileâ€™s contents without displaying the PDF file in <uservariable x-value="Acrobat" x-showvalue="TRUE" name="AcrobatProd" x-format="AcrobatProd">Acrobat</uservariable>&#160;or <uservariable x-value="Acrobat&nbsp;Reader" x-showvalue="TRUE" name="AdobeReaderProd" x-format="AdobeReaderProd">Acrobat&nbsp;Reader</uservariable>. To perform this task, create a <span class="FM_Courier">PDDoc</span>&#160;object by invoking the <span class="FM_Courier">PDDocOpen</span>&#160;method and passing the following arguments:</p>
  <ul type="disc" style="Direction:Direction:ltr;
;
">
   <li>
   <p class="FM_Bullet1">An <span class="FM_Courier">ASPathName</span>&#160;object that specifies the PDF file on which the <span class="FM_Courier">PDDoc</span>&#160;is based. For information about creating an <span class="FM_Courier">ASPathName</span>&#160;object, see <a href="Opening_PDF_documents.htm#XREF_65430_Opening_a_PDF">Opening PDF documents</a>.</p>
</li>
   <li>
   <p class="FM_Bullet1">An <span class="FM_Courier">ASFileSys</span>&#160;object that represents the file system in which the PDF file is located. (See <a href="../Plugins_Unicode/Creating_an_ASFileSys_object.htm#XREF_67382_Creating_an">Creating an ASFileSys object</a>.)</p>
</li>
   <li>
   <p class="FM_Bullet1"><a name="IX_PDAuthProc_authorization"></a>A <span class="FM_Courier">PDAuthProc</span>&#160;authorization callback that is invoked only if the file has been secured (that is, if the file has either the user or the master password set). This callback must obtain required information to determine whether the user is authorized to open the file. You can pass <span class="FM_Courier">NULL</span>&#160;if an authorization callback is not required. For information about callbacks, see <a href="../Plugins_Pimech/Using_callback_functions.htm#XREF_20671_8_7_Callbacks">Using callback functions</a>.</p>
</li>
   <li>
   <p class="FM_Bullet1">An <span class="FM_Courier">ASBool</span>&#160;value. When set to <span class="FM_Courier">true</span>, an attempt to repair a damaged file is performed. If <span class="FM_Courier">false</span>, an attempt to repair a damaged file is not performed.</p>
</li>
  </ul>
  <p class="BodyLevel1">The following code example creates a <span class="FM_Courier">PDDoc</span>&#160;object that is based on a PDF file named PurchaseOrder.pdf and located in the root of the C drive. This code example is located within a user-defined function named <span class="FM_Courier">getDocument</span>.</p>
  <ul type="disc" style="Direction:Direction:ltr;
;
">
   <li>
   <p class="FM_5Head_Example">Creating a PDDoc object</p>
</li>
  </ul>
  <p class="FM_CodeReference"><span class="FM_Bold">PDDoc getDocument()</span>&#160;</p>
  <p class="FM_CodeReference">{</p>
  <p class="FM_CodeComment"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>//Declare a PDDoc object</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>PDDoc myPDDoc;</p>
  <p class="FM_CodeReference">&nbsp;</p>
  <p class="FM_CodeComment"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>//Declare a PDAuthProc callback</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>PDAuthProc myAuthProcPtr;</p>
  <p class="FM_CodeReference">&nbsp;</p>
  <p class="FM_CodeComment"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>//Specify the PDF file on which to base the PDDoc object</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>const char * myPath = &quot;C:\\PurchaseOrder.pdf&quot;; </p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>ASAtom pathType = ASAtomFromString(&quot;Cstring&quot;);</p>
  <p class="FM_CodeComment"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM_CodeComment"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>//Create an ASPathName object</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>ASFileSys fileSys = ASGetDefaultFileSysForPath(pathType, myPath);</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>ASPathName pathName = ASFileSysCreatePathName(fileSys,pathType,</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>myPath,NULL);</p>
  <p class="FM_CodeReference">&nbsp;</p>
  <p class="FM_CodeComment"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>//Create the authentication callback</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>myAuthProcPtr = ASCallbackCreateProto (PDAuthProc,&amp;authProc);</p>
  <p class="FM_CodeReference">&nbsp;</p>
  <p class="FM_CodeComment"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>//Create a PDDoc object</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>myPDDoc = PDDocOpen (pathName, fileSys, myAuthProcPtr, false);</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM_CodeComment"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>//Release the callback</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>ASCallbackDestroy (myAuthProcPtr);</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return myPDDoc; </p>
  <p class="FM_CodeReference">}</p>
  <p class="FM_CodeReference">&nbsp;</p>
  <p class="FM_CodeReference"><span class="FM_Bold">ASBool authProc(PDDoc TheDoc)</span>&#160;</p>
  <p class="FM_CodeReference">{</p>
  <p class="FM_CodeComment"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>//Define business logic that authenticates the user</p>
  <p class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return true;</p>
  <p class="FM_CodeReference">}</p>
  </div>
</body>
</html>