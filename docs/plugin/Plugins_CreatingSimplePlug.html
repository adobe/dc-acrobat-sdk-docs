

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Creating Plugin and PDF Library Applications &mdash; Acrobat Plugin Developer Guide</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  

  
  
    <link rel="canonical" href="https://www.adobe.com/go/acrobatsdk_homePlugins_CreatingSimplePlug.html"/>
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Inserting Text into PDF Documents" href="Plugins_Insertext.html" />
    <link rel="prev" title="Understanding Plugins" href="Plugins_Pimech.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="toc.html" class="icon icon-home"> Acrobat Plugin Developer Guide
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction to Plugin Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#about-plugins">About plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#about-the-acrobat-core-api">About the Acrobat core API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#acrobat-viewer-layer">Acrobat Viewer layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#portable-document-layer">Portable Document layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#acrobat-support-layer">Acrobat Support layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#cos-layer">Cos layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#platform-specific-methods">Platform-specific methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#acrobat-core-api-objects">Acrobat core API objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#file-object-interrelationships">File object interrelationships</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#document-object-interrelationships">Document object interrelationships</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#acrobat-core-api-methods">Acrobat core API methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#data-types">Data types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#scalar-types">Scalar types</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#simple-types">Simple types</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#complex-types">Complex types</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#opaque-types">Opaque types</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#cos-types">Cos types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#about-pdf-library-and-plugin-applications">About PDF Library and plugin applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#manipulating-acrobat-and-adobe-reader">Manipulating Acrobat and Adobe Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#displaying-a-pdf-document-in-an-external-window">Displaying a PDF document in an external window</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#indexed-searching">Indexed searching</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#modifying-file-access">Modifying file access</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#creating-new-annotation-types">Creating new annotation types</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#dynamically-adding-text-to-pdf-documents">Dynamically adding text to PDF documents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#understanding-your-target-application">Understanding your target application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#rights-enabled-pdf-documents">Rights-enabled PDF documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#adobe-reader-plugins">Adobe Reader plugins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#registering-plugins-for-use-by-the-plugin-finder">Registering plugins for use by the plugin finder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#pdf-dictionary-extensions">PDF dictionary extensions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Pimech.html">Understanding Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#plugin-loading-and-initialization">Plugin loading and initialization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#handshaking">Handshaking</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#exporting-hfts">Exporting HFTs</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#importing-hfts-and-registering-for-notifications">Importing HFTs and registering for notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#initialization">Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#unloading">Unloading</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#summarizing-a-plugin-s-life-cycle">Summarizing a plugin’s life cycle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#using-callback-functions">Using callback functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#notifications">Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#handling-events">Handling events</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#mouse-clicks">Mouse clicks</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#adjust-cursor">Adjust cursor</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#key-presses">Key presses</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#using-plugin-prefixes">Using plugin prefixes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#obtaining-a-developer-pdf-name-prefix">Obtaining a developer PDF name prefix</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#using-a-developer-prefix">Using a developer prefix</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Pimech.html#plugin-name">Plugin name</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Pimech.html#menu-prefixes">Menu prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Pimech.html#menu-items-prefixes">Menu items prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Pimech.html#tool-prefixes">Tool prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Pimech.html#toolbar-button-prefixes">Toolbar button prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Pimech.html#private-data-id-d-via-second-class-names">Private data ID’d via second-class names</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Pimech.html#action-prefixes">Action prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Pimech.html#annotation-prefixes">Annotation prefixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Pimech.html#hft-prefixes">HFT prefixes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#modifying-the-acrobat-or-adobe-reader-user-interface">Modifying the Acrobat or Adobe Reader user interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#adding-or-removing-menus-and-menu-items">Adding or removing menus and menu items</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#modifying-toolbars">Modifying toolbars</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#controlling-the-about-box-and-splash-screen">Controlling the About box and splash screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#creating-help-files">Creating help files</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pimech.html#user-interface-guidelines">User interface guidelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#acquiring-and-releasing-objects">Acquiring and releasing objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#debugging-plugins">Debugging plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#page-view-layers">Page view layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#minimizing-screen-redrawing">Minimizing screen redrawing</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#storing-private-data-in-pdf-files">Storing private data in PDF files</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pimech.html#exporting-data-from-pdf-document-objects">Exporting data from PDF document objects</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Creating Plugin and PDF Library Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#working-with-platform-specific-techniques">Working with platform-specific techniques</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#about-platform-dependent-data">About platform-dependent data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#portability-techniques">Portability techniques</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windows-techniques">Windows techniques</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#developing-windows-plugins">Developing Windows plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#locating-and-loading-plugins">Locating and loading plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#why-a-plugin-might-not-load">Why a plugin might not load</a></li>
<li class="toctree-l4"><a class="reference internal" href="#macros-and-project-settings">Macros and project settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interapplication-communication">Interapplication communication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugging">Debugging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#handling-the-thread-local-storage-tls-limit">Handling the thread local storage (TLS) limit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-modal-dialog-boxes">Using modal dialog boxes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mac-os-techniques">Mac OS techniques</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#developing-a-mac-os-plugin">Developing a Mac OS plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-the-samples">Using the samples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#establishing-carbon-or-cocoa-compliance">Establishing Carbon or Cocoa compliance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#xcode-configuration-files">Xcode configuration files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-setgworld-rather-than-setport">Using SetGWorld rather than SetPort</a></li>
<li class="toctree-l4"><a class="reference internal" href="#locating-and-loading-a-plugin">Locating and loading a plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-memory">Using memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resource-file-considerations">Resource file considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-saferesources">Using SafeResources</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manipulating-the-resource-chain-directly">Manipulating the resource chain directly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#macros">Macros</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mac-os-only-methods">Mac OS-only methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inter-application-communication">Inter application communication</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-sample-plugin">Creating a sample plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#including-acrobat-sdk-library-files">Including Acrobat SDK library files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-the-pimain-source-file">Adding the PIMain source file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-application-logic">Adding application logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiling-and-building-your-plugin">Compiling and building your plugin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-sample-pdf-library-application">Creating a sample PDF Library application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#contents-of-the-pdf-library-sdk">Contents of the PDF Library SDK</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#including-library-files">Including library files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sample-code">Sample code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#developing-applications-with-the-adobe-pdf-library">Developing applications with the Adobe PDF Library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#windows">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mac-os">Mac OS</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#initialization-and-termination">Initialization and termination</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multithreading">Multithreading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#upgrading-existing-plugins">Upgrading existing plugins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#detecting-supported-apis">Detecting supported APIs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#migrating-pdfl-apps-to-xcode">Migrating PDFL apps to Xcode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Insertext.html">Inserting Text into PDF Documents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Insertext.html#creating-a-new-pdf-document">Creating a new PDF document</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Insertext.html#creating-a-new-page">Creating a new page</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Insertext.html#creating-a-container">Creating a container</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Insertext.html#acquiring-fonts">Acquiring fonts</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Insertext.html#creating-a-pdegraphicstate-object">Creating a PDEGraphicState object</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Insertext.html#creating-an-asfixedmatrix-object">Creating an ASFixedMatrix object</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Insertext.html#inserting-text">Inserting text</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Insertext.html#saving-the-pdf-document">Saving the PDF document</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Insertext.html#examining-a-pdfl-app-source-file">Examining a PDFL app source file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Documents.html">Working with Documents and Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Documents.html#opening-pdfs">Opening PDFs</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Documents.html#opening-a-pdf-in-an-external-window">Opening a PDF in an external window</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#creating-a-window">Creating a Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#defining-the-parameters-for-an-external-window">Defining the parameters for an external window</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#creating-a-handler-for-an-external-window">Creating a handler for an external window</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#displaying-an-open-dialog-box">Displaying an open dialog box</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#displaying-a-pdf-in-a-window">Displaying a PDF in a window</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Documents.html#determining-the-pdf-version">Determining the PDF version</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#pdf-version">PDF version</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#pdf-version-extensions">PDF version extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#setting-the-extension-level-of-a-document">Setting the extension level of a document</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#getting-the-extension-level-of-a-document">Getting the extension level of a document</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Documents.html#bridging-core-api-layers">Bridging core API layers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#creating-a-pddoc-object">Creating a PDDoc object</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#creating-a-pddoc-object-for-an-open-pdf">Creating a PDDoc object for an open PDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Documents.html#accessing-non-pdf-files">Accessing non-PDF files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Documents.html#printing-documents">Printing documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Documents.html#working-with-the-pdf-x-format">Working with the PDF/X format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Menu.html">Creating Menus and Menu Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Menu.html#about-menus">About menus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Menu.html#about-avmenubar-typedefs">About AVmenubar typedefs</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Menu.html#about-avmenu-typedefs">About AVMenu typedefs</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Menu.html#about-avmenuitem-typedefs">About AVMenuItem typedefs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Menu.html#adding-menu-commands-to-menus">Adding menu commands to menus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Menu.html#adding-a-menu-command-to-an-existing-menu">Adding a menu command to an existing menu</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Menu.html#adding-a-menu-command-to-a-new-menu">Adding a menu command to a new menu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Menu.html#creating-menu-callback-functions">Creating menu callback functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Menu.html#determining-if-a-menu-item-can-be-executed">Determining if a menu item can be executed</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Toolbutton.html">Creating Toolbars and Buttons</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Toolbutton.html#about-toolbars">About toolbars</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Toolbutton.html#about-avtoolbar-typedefs">About AVToolBar typedefs</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Toolbutton.html#about-avtoolbutton-typedefs">About AVToolButton typedefs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Toolbutton.html#retrieving-toolbars">Retrieving toolbars</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Toolbutton.html#creating-toolbar-buttons">Creating toolbar buttons</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Toolbutton.html#setting-help-text-for-a-button">Setting help text for a button</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Toolbutton.html#setting-label-text">Setting label text</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Toolbutton.html#creating-a-sub-menu-for-a-button">Creating a sub-menu for a button</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Toolbutton.html#retrieving-existing-toolbar-buttons">Retrieving existing toolbar buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Toolbutton.html#attaching-a-button-to-a-toolbar">Attaching a button to a toolbar</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Toolbutton.html#exposing-a-button-in-a-web-browser">Exposing a button in a web browser</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Toolbutton.html#removing-a-button-from-a-toolbar">Removing a button from a toolbar</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Toolbutton.html#creating-toolbar-button-callback-functions">Creating toolbar button callback functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Annotations.html">Creating Annotations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Annotations.html#working-with-text-annotations">Working with text annotations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Annotations.html#creating-text-annotations">Creating text annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Annotations.html#retrieving-existing-annotations">Retrieving existing annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Annotations.html#modifying-text-annotations">Modifying text annotations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Annotations.html#working-with-redaction-annotations">Working with redaction annotations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Annotations.html#creating-a-redaction-annotation">Creating a redaction annotation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Annotations.html#modifying-an-existing-redaction-annotation">Modifying an existing redaction annotation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Annotations.html#applying-redaction-annotations-removing-redacted-content">Applying redaction annotations (removing redacted content)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Bookmark.html">Working with Bookmarks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Bookmark.html#about-bookmarks">About bookmarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Bookmark.html#creating-bookmarks">Creating bookmarks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Bookmark.html#defining-bookmark-actions">Defining bookmark actions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Bookmark.html#creating-a-pdviewdestination-object">Creating a PDViewDestination object</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Bookmark.html#creating-a-avpageview-object">Creating a AVPageView object</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Bookmark.html#assigning-an-action-to-a-bookmark">Assigning an action to a bookmark</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Bookmark.html#removing-bookmark-actions">Removing bookmark actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Bookmark.html#opening-and-closing-bookmarks">Opening and closing bookmarks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Bookmark.html#retrieving-bookmarks">Retrieving bookmarks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Bookmark.html#retrieving-the-root-bookmark">Retrieving the root bookmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Bookmark.html#retrieving-a-specific-bookmark">Retrieving a specific bookmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Bookmark.html#retrieving-all-bookmarks">Retrieving all bookmarks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Bookmark.html#deleting-bookmarks">Deleting bookmarks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Pages.html">Working with Page Views and Contents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pages.html#about-page-coordinates">About page coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pages.html#about-page-views">About page views</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pages.html#displaying-page-views">Displaying page views</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Pages.html#modifying-page-contents">Modifying page contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pages.html#creating-a-pdecontent-object">Creating a PDEContent object</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pages.html#accessing-page-contents">Accessing page contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pages.html#determining-page-element-types">Determining page element types</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Pages.html#modifying-text-elements">Modifying text elements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Words.html">Working with Words</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Words.html#about-searching-for-words">About searching for words</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Words.html#about-pdword-typedefs">About PDWord typedefs</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Words.html#about-pdwordfinder-typedefs">About PDWordFinder typedefs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Words.html#creating-a-pdwordfinder-object">Creating a PDWordFinder object</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Words.html#extracting-and-displaying-words">Extracting and displaying words</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Words.html#highlighting-words">Highlighting words</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Handlers.html">Creating Handlers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#about-handlers">About handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#action-handlers">Action handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#annotation-handlers">Annotation handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#avcommand-handlers">AVCommand handlers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Handlers.html#creating-an-avcommand-handler">Creating an AVCommand handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Handlers.html#invoking-avcommands">Invoking AVCommands</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Handlers.html#configuring-avcommands">Configuring AVCommands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Handlers.html#setting-input-parameters">Setting input parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Handlers.html#setting-configuration-parameters">Setting configuration parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Handlers.html#setting-avcommand-parameters">Setting AVCommand parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Handlers.html#running-commands">Running commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Handlers.html#exposing-avcommands-to-the-batch-framework">Exposing AVCommands to the batch framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Handlers.html#adding-a-handler-to-the-global-command-list">Adding a handler to the global command list</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Handlers.html#supporting-properties">Supporting properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#file-format-conversion-handlers">File format conversion handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#file-specification-handlers">File specification handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#selection-servers">Selection servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#tool-callbacks">Tool callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#window-handlers">Window handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#file-systems">File systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#progress-monitors">Progress monitors</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#transition-handlers">Transition handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Handlers.html#adding-message-handling">Adding message handling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Notification.html">Registering for Event Notifications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Notification.html#registering-event-notifications">Registering event notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Notification.html#unregistering-event-notifications">Unregistering event notifications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Security.html">Working with Document Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Security.html#about-document-security">About document security</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Security.html#about-security-handlers">About security handlers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Security.html#adding-a-security-handler">Adding a security handler</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Security.html#security-handlers-data">Security handlers data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Security.html#security-handler-callbacks">Security handler callbacks</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Security.html#acrobat-s-authorization-procedure">Acrobat’s authorization procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Security.html#opening-a-secured-file">Opening a secured file</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Security.html#saving-a-secured-file">Saving a secured file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Security.html#setting-security-for-a-document">Setting security for a document</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Security.html#saving-a-file-with-an-encryption-dictionary">Saving a file with an encryption dictionary</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Security.html#opening-an-encrypted-file">Opening an encrypted file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Unicode.html">Working with Unicode Paths</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Unicode.html#about-unicode-paths">About Unicode paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Unicode.html#creating-unicode-file-path-application-logic">Creating Unicode file path application logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Unicode.html#retrieving-unicode-path-values">Retrieving Unicode path values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Unicode.html#creating-an-asfilesys-object">Creating an ASFileSys object</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Unicode.html#creating-an-asfilesys-object-that-supports-unicode-paths">Creating an ASFileSys object that supports Unicode paths</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Hft.html">Working with Host Function Tables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Hft.html#about-host-function-tables">About host function tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Hft.html#exporting-host-function-tables">Exporting host function tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Hft.html#creating-hft-methods">Creating HFT methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Hft.html#creating-hft-method-definitions">Creating HFT method definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Hft.html#defining-function-prototypes">Defining function prototypes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Hft.html#defining-an-hft-method-name">Defining an HFT method name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Hft.html#creating-hft-callback-functions">Creating HFT callback functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Hft.html#creating-new-host-function-tables">Creating new Host Function Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Hft.html#examining-hft-header-and-source-files">Examining HFT header and source files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Hft.html#examining-an-hft-header-file">Examining an HFT header file</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Hft.html#examining-an-hft-source-file">Examining an HFT source file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Hft.html#importing-an-existing-hft">Importing an existing HFT</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Hft.html#invoking-hft-methods">Invoking HFT methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Hft.html#replacing-hft-methods">Replacing HFT methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Hft.html#migrating-non-hft-pdf-library-applications-to-hft-applications">Migrating non-HFT PDF Library applications to HFT applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Cos.html">Working with Cos Objects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Cos.html#about-cos-objects">About Cos objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#about-direct-and-indirect-objects">About direct and indirect objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#about-cos-object-types">About Cos object types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Cos.html#cos-strings">Cos strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Cos.html#hexadecimal-strings">Hexadecimal strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Cos.html#cos-arrays">Cos arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Cos.html#cos-names">Cos names</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Cos.html#cos-dictionaries">Cos dictionaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Cos.html#cos-streams">Cos streams</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Cos.html#working-with-cos-strings">Working with Cos strings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#creating-cos-strings">Creating Cos strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#retrieving-the-string-value">Retrieving the string value</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Cos.html#working-with-cos-arrays">Working with Cos arrays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#creating-cos-arrays">Creating Cos arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#retrieving-cos-array-values">Retrieving Cos array values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Cos.html#working-with-cos-dictionaries">Working with Cos dictionaries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#creating-cos-dictionaries">Creating Cos dictionaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#retrieving-values-from-a-cos-dictionary">Retrieving values from a Cos dictionary</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#querying-a-cos-dictionary-for-a-key">Querying a Cos dictionary for a key</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Cos.html#working-with-cos-names">Working with Cos names</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#creating-cos-names">Creating Cos names</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#retrieving-the-value-of-a-name-object">Retrieving the value of a name object</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Cos.html#working-with-cos-streams">Working with Cos streams</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#creating-cos-streams">Creating Cos streams</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Cos.html#creating-a-stream-dictionary">Creating a stream dictionary</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_Cos.html#inserting-a-cos-stream-into-a-pdf-document">Inserting a Cos stream into a PDF document</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Cos.html#populating-a-pdf-with-a-content-stream">Populating a PDF with a content stream</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_3D_samples.html">Working with 3D Annotations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_3D_samples.html#creating-3d-annotations">Creating 3D annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_3D_samples.html#adding-3d-data-to-an-annotation">Adding 3D data to an annotation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_3D_samples.html#creating-the-3d-annotation-dictionary-entries">Creating the 3D annotation dictionary entries</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_3D_samples.html#specifying-the-3d-stream">Specifying the 3D stream</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_3D_samples.html#creating-the-stream-object">Creating the stream object</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_3D_samples.html#adding-the-cos-stream-to-the-annotation-dictionary">Adding the Cos stream to the annotation dictionary</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_3D_samples.html#creating-the-attributes-dictionary">Creating the attributes dictionary</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_3D_samples.html#specifying-javascript-code">Specifying JavaScript code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_3D_samples.html#setting-the-default-view">Setting the default view</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_3D_samples.html#setting-the-annotation-appearance">Setting the annotation appearance</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_3D_samples.html#setting-the-activation-dictionary">Setting the activation dictionary</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_A3D_API.html">Parsing and Creating PRC Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_A3D_API.html#working-with-the-acrobat-3d-api">Working with the Acrobat 3D API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#versions">Versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#compatibility-with-different-prc-format-versions">Compatibility with different PRC format versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#compatibility-between-the-acrobat-3d-library-and-the-acrobat-3d-api">Compatibility between the Acrobat 3D Library and the Acrobat 3D API</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#data-types-naming-conventions-and-character-encoding">Data types, naming conventions, and character encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#structured-and-recursive-nature-of-prc-parsing">Structured and recursive nature of PRC parsing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_A3D_API.html#implementing-external-linking-in-your-plugin">Implementing external linking in your plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#implementing-external-linking">Implementing external linking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_A3D_API.html#parsing-a-prc-file">Parsing a PRC file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#handling-errors">Handling errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#copying-the-embedded-prc-file-to-a-separate-file">Copying the embedded PRC file to a separate file</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#initializing-the-acrobat-3d-api">Initializing the Acrobat 3D API</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#parsing-structure-prc-entities">Parsing structure PRC entities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-the-model-file-data">Parse the model file data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-a-product-occurrence">Parse a product occurrence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-a-part-definition">Parse a part definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parsing-representation-items">Parsing representation items</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-a-representation-item-set-prc-entity-a3driset">Parse a representation item set (PRC entity A3DRiSet)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-a-brep-model-representation-item-prc-entity-a3dribrepmodel">Parse a Brep model representation item (PRC entity A3DRiBrepModel)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-coordinate-system-data">Parse coordinate system data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#parsing-tessellation-prc-entities">Parsing tessellation PRC entities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-tessellation-base-data">Parse tessellation base data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-3d-tessellation-data">Parse 3D tessellation data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#parsing-topology-prc-entities">Parsing topology PRC entities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-topology-body-data">Parse topology body data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-topology-context-data">Parse topology context data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-the-brep-model-s-data">Parse the Brep model’s data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-connex-data">Parse Connex data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-a-shell-entity">Parse a shell entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-the-face-s-surface-data">Parse the face’s surface data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#convert-surface-data-to-nurbs-for-other-than-uv-mapped-surfaces">Convert surface data to Nurbs (for other than UV-mapped surfaces)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-generic-surface-data">Parse generic surface data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-nurbs-surface-data">Parse Nurbs surface data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#parsing-prc-entities-that-specify-graphics">Parsing PRC entities that specify graphics</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#parsing-attributes-that-appear-in-an-entity-base">Parsing attributes that appear in an entity base</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parsing-root-base-entity-data">Parsing root-base entity data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parse-the-miscellaneous-attribute-entity">Parse the miscellaneous attribute entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#parsing-graphic-attributes-using-miscellaneous-cascaded-attributes">Parsing graphic attributes using miscellaneous cascaded attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#to-create-and-push-a-miscellaneous-cascaded-attributes-structure">To create and push a miscellaneous cascaded attributes structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#terminating-the-interface-with-the-acrobat-3d-api">Terminating the interface with the Acrobat 3D API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#terminate-your-interface-with-the-acrobat-3d-api">Terminate your interface with the Acrobat 3D API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_A3D_API.html#creating-a-prc-file-that-uses-boundary-representation">Creating a PRC file that uses boundary representation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#error-handling">Error handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#creating-a-model-file-entity-and-exporting-it-to-a-physical-file">Creating a model file entity and exporting it to a physical file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-file-that-contains-the-prc-data">Create a file that contains the PRC data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#creating-structure-prc-entities">Creating structure PRC entities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-model-file-entity">Create a model file entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-product-occurrence">Create a product occurrence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-part-definition">Create a part definition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#creating-representation-item-prc-entities">Creating representation item PRC entities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-brep-model-representation-item">Create a Brep model representation item</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#creating-topology-prc-entities">Creating topology PRC entities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-topology-brep-data-entity">Create a topology Brep data entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-topology-connex-entity">Create a topology connex entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-topology-shell-entity">Create a topology shell entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-topology-face-entity">Create a topology face entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-topology-loop-entity">Create a topology loop entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-topology-co-edge-entity">Create a topology co-edge entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-topology-edge-entity">Create a topology edge entity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#creating-geometry-prc-entities">Creating geometry PRC entities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-surface-cylinder-entity">Create a surface cylinder entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#create-a-circular-curve-entity">Create a circular curve entity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#defining-root-level-attributes-for-a-prc-entity">Defining root-level attributes for a PRC entity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#define-miscellaneous-attributes-that-omit-modeler-data">Define miscellaneous attributes that omit modeler data</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_A3D_API.html#define-miscellaneous-attributes-that-include-modeler-data">Define miscellaneous attributes that include modeler data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#creating-a-3d-annotation-that-references-the-prc-file">Creating a 3D annotation that references the PRC file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_A3D_API.html#creating-a-tessellation-entity-for-representing-faceted-objects">Creating a tessellation entity for representing faceted objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#create-the-tessellation-base-data">Create the tessellation base data</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_A3D_API.html#create-the-tessellation-facet-data">Create the tessellation facet data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_Exceptions.html">Handling Exceptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Exceptions.html#creating-exception-handlers">Creating exception handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Exceptions.html#returning-a-value-from-an-exception-handler">Returning a value from an exception handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Exceptions.html#raising-exceptions">Raising exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_Exceptions.html#exception-handling-scenarios">Exception handling scenarios</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Exceptions.html#using-goto-statements">Using goto statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Exceptions.html#using-nested-exception-handlers">Using nested exception handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_Exceptions.html#using-register-variables">Using register variables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_ExtendedAPI.html">Working with Acrobat Extended APIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ExtendedAPI.html#search-extended-api">Search extended API</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ExtendedAPI.html#catalog-extended-api">Catalog extended API</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ExtendedAPI.html#pdf-consultant-and-accessibility-checker-extended-api">PDF Consultant and Accessibility Checker extended API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#acrobat-agents">Acrobat agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#reclassifying-and-revisiting">Reclassifying and revisiting</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#agent-architecture">Agent architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#how-the-consultant-works">How the consultant works</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#removing-or-modifying-objects">Removing or modifying objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#reclassifying-objects">Reclassifying objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#consultant-process">Consultant process</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#important-issues-for-consultant-development">Important issues for consultant development</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#maintaining-the-traversal-stack">Maintaining the traversal stack</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#deciding-consultant-or-the-agent-does-the-work">Deciding consultant or the agent does the work</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#avoiding-agent-collisions">Avoiding agent collisions</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#avoiding-visitation-collisions">Avoiding visitation collisions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#importing-the-consultant-hfts-into-a-plugin">Importing the consultant HFTs into a plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#creating-and-destroying-consultants">Creating and destroying consultants</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#registering-agents-with-consultants">Registering agents with consultants</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#starting-the-consultant">Starting the consultant</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#consultant-object-type-identification">Consultant object type identification</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#creating-an-agent-class">Creating an agent class</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#creating-agent-constructors">Creating agent constructors</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#recognizing-objects-of-interest">Recognizing objects of interest</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#post-processing-stage">Post processing stage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ExtendedAPI.html#digital-signature-extended-api">Digital signature extended API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#the-pubsec-layer">The PubSec layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#digital-signature-components">Digital signature components</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#digital-signature-scenarios">Digital signature scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#initializing-the-digital-signature-plugin">Initializing the digital signature plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#understanding-the-process">Understanding the process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#dialogs-and-signature-gathering">Dialogs and signature gathering</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#saving-a-document">Saving a document</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#finishing-the-process">Finishing the process</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#revalidating-signatures">Revalidating signatures</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#additional-available-callbacks">Additional available callbacks</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#additional-plugin-support">Additional plugin support</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#rollback-support">Rollback support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ExtendedAPI.html#forms-extended-api">Forms extended API</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ExtendedAPI.html#weblink-extended-api">Weblink extended API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#weblink-services">Weblink services</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#writing-a-custom-driver">Writing a custom driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ExtendedAPI.html#spelling-extended-api">Spelling extended API</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ExtendedAPI.html#acrocolor-extended-api">AcroColor extended API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ExtendedAPI.html#color-conversion-operations">Color conversion operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#object-attributes">Object attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#color-space-attributes">Color space attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#conversion-actions">Conversion actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#action-modifiers">Action modifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#ink-aliasing">Ink aliasing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#data-structures">Data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#data-enum-values">Data enum values</a></li>
<li class="toctree-l4"><a class="reference internal" href="Plugins_ExtendedAPI.html#converting-a-document-to-rgb">Converting a document to RGB</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ExtendedAPI.html#pdf-optimizer-api">PDF Optimizer API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Plugins_ReaderPlug.html">Creating an Adobe Reader plugin</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ReaderPlug.html#configuring-preprocessor-definitions">Configuring preprocessor definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ReaderPlug.html#creating-the-public-and-private-key-pairs">Creating the public and private key pairs</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ReaderPlug.html#enabling-the-plugin-for-adobe-reader">Enabling the plugin for Adobe Reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins_ReaderPlug.html#troubleshooting-an-adobe-reader-plugin">Troubleshooting an Adobe Reader plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ReaderPlug.html#plugin-appears-to-be-ignored-by-adobe-reader">Plugin appears to be ignored by Adobe Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="Plugins_ReaderPlug.html#adobe-reader-error-messages">Adobe Reader error messages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Reader_Plugins.html">Reader Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Reader_Plugins.html#reader-enablement">Reader enablement</a></li>
<li class="toctree-l2"><a class="reference internal" href="Reader_Plugins.html#apis-available-for-adobe-reader">APIs available for Adobe Reader</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="toc.html">Acrobat Plugin Developer Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="toc.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Creating Plugin and PDF Library Applications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="Plugins_Insertext.html" class="btn btn-neutral float-right" title="Inserting Text into PDF Documents" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="Plugins_Pimech.html" class="btn btn-neutral float-left" title="Understanding Plugins" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-plugin-and-pdf-library-applications">
<h1>Creating Plugin and PDF Library Applications<a class="headerlink" href="#creating-plugin-and-pdf-library-applications" title="Permalink to this headline">¶</a></h1>
<p>Use the Acrobat SDK and the Adobe PDF Library SDK to create plugin applications as well as stand-alone applications that interact with PDF documents.</p>
<div class="section" id="working-with-platform-specific-techniques">
<h2>Working with platform-specific techniques<a class="headerlink" href="#working-with-platform-specific-techniques" title="Permalink to this headline">¶</a></h2>
<p>The Acrobat API is nearly platform-independent. By using the memory allocation and file system APIs provided by Acrobat or Adobe Reader, many parts of a plugin are highly portable across platforms. While this chapter contains platform-specific development information for Windows and Mac, the guidelines here should help you plugins more portable among the various supported platforms.</p>
<div class="section" id="about-platform-dependent-data">
<h3>About platform-dependent data<a class="headerlink" href="#about-platform-dependent-data" title="Permalink to this headline">¶</a></h3>
<p>The following are platform-specific data types that appear explicitly in the Acrobat core API:</p>
<ul class="simple">
<li><p><strong>platform data structures</strong>: Data structures such as the Win32 data structure that represents a window.</p></li>
<li><p><strong>platform path values</strong>: The data structure that represents the path to a file.</p></li>
<li><p><strong>platform event</strong>: The data structure that represents mouse clicks, key presses, window activation, and so on.</p></li>
<li><p><strong>Return value</strong>: Constants that indicate, for example, that a file could not be opened because it was not found.</p></li>
</ul>
<p>The following are platform-specific data types that do not appear explicitly in the API, but are used by Acrobat, Adobe Reader, or plugins:</p>
<ul class="simple">
<li><p><strong>Cursors</strong>: Data structures representing a cursor.</p></li>
<li><p><strong>Toolbar button icons</strong>: Pixmaps that appear in the Acrobat or Adobe Reader toolbar.</p></li>
<li><p><strong>Menu item icons</strong>: Icons that some platforms let you display adjacent to a menu item.</p></li>
<li><p><strong>Menu items</strong>: Remember that not all Acrobat or Adobe Reader implementations have the same menu items.</p></li>
</ul>
</div>
<div class="section" id="portability-techniques">
<h3>Portability techniques<a class="headerlink" href="#portability-techniques" title="Permalink to this headline">¶</a></h3>
<p>The following techniques can improve your plugin’s portability:</p>
<ul class="simple">
<li><p>Use predefined types instead of short and long.</p></li>
<li><p>Use Acrobat API methods wherever possible instead of platform-specific APIs.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">#if</span></code> around platform-specific code such as dialog boxes and use the predefined platform constants (<code class="docutils literal notranslate"><span class="pre">MAC_PLATFORM</span></code>, <code class="docutils literal notranslate"><span class="pre">WIN_PLATFORM</span></code>, and so forth) to test what platform you are compiling for.</p></li>
<li><p>Place platform-specific code in separate files from the main portion of the plugin, so that you can easily recognize and rewrite platform-dependent sections.</p></li>
</ul>
</div>
<div class="section" id="windows-techniques">
<h3>Windows techniques<a class="headerlink" href="#windows-techniques" title="Permalink to this headline">¶</a></h3>
<div class="section" id="developing-windows-plugins">
<h4>Developing Windows plugins<a class="headerlink" href="#developing-windows-plugins" title="Permalink to this headline">¶</a></h4>
<p>You can put your plugins in the default Acrobat plugin location the plugins folder (in the same directory as the Acrobat executable).</p>
<p>You are encouraged to use the plugin samples BasicUI and Starter as a basis for developing plugins. These samples have all of the appropriate project settings. The Starter sample only builds a loadable plugin while the BasicUI sample adds menu items.</p>
</div>
<div class="section" id="locating-and-loading-plugins">
<h4>Locating and loading plugins<a class="headerlink" href="#locating-and-loading-plugins" title="Permalink to this headline">¶</a></h4>
<p>When Acrobat or Adobe Reader starts, it scans the plugins folder (in the same directory as the Acrobat executable) for DLLs with the extension.API. Acrobat or Adobe Reader also searches nested directories, allowing you to group plugins in folders. When it locates a file with the extension.API, it looks for the <code class="docutils literal notranslate"><span class="pre">PlugInMain</span></code> exported symbol, which specifies the entry point for your plugin. Acrobat or Adobe Reader loads the plugin by invoking the <code class="docutils literal notranslate"><span class="pre">LoadLibrary</span></code> function and then calls the function referenced by the <code class="docutils literal notranslate"><span class="pre">PlugInMain</span></code> symbol.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">LoadLibrary</span></code> function calls your plugin’s <code class="docutils literal notranslate"><span class="pre">DLLMain</span></code> entry point with the parameter <code class="docutils literal notranslate"><span class="pre">DLL_PROCESS_ATTACH</span></code> passed. Your plugin can run some initialization code in DLLMain, such as allocating memory, before its <code class="docutils literal notranslate"><span class="pre">PluginMain</span></code> function is called by Acrobat or Adobe Reader.</p>
<p>If you allocate memory in your plugin’s <code class="docutils literal notranslate"><span class="pre">DLLMain</span></code> entry point, it must deallocate that memory when <code class="docutils literal notranslate"><span class="pre">DLLMain</span></code> is called with <code class="docutils literal notranslate"><span class="pre">DLL_PROCESS_DETACH</span></code>. If your plugin relies on its implementation of the <code class="docutils literal notranslate"><span class="pre">PluginUnload</span></code> function to deallocate memory, it could fail if Acrobat or Adobe Reader unloads the plugin immediately without calling the plugin’s handshaking callbacks. This would happen in the following situations:</p>
<ul class="simple">
<li><p>If the plugin is not Adobe-certified and the user has specified the Certified Plugins Only option in the Preferences settings.</p></li>
<li><p>If the plugin is running under Adobe Reader, but it is not enabled for Adobe Reader. This could potentially cause a crash when Acrobat or Adobe Reader closes.</p></li>
</ul>
</div>
<div class="section" id="why-a-plugin-might-not-load">
<h4>Why a plugin might not load<a class="headerlink" href="#why-a-plugin-might-not-load" title="Permalink to this headline">¶</a></h4>
<p>There are several reasons why a plugin may not load successfully:</p>
<ul class="simple">
<li><p>The plugin’s filename extension was not changed from.dll to.api.</p></li>
<li><p>Too many plugins are being loaded by either Acrobat or Adobe Reader. The number of plugins that can be loaded at any one time depends on the code generation settings of all loaded plugins.</p></li>
<li><p>The plugin attempts to register with the same <code class="docutils literal notranslate"><span class="pre">extensionName</span></code> as another plugin that has already loaded. In this case, Acrobat or Adobe Reader displays an error message indicating the problem.</p></li>
<li><p>You cloned your project from an existing plugin project that uses a.def file and forgot to change the <code class="docutils literal notranslate"><span class="pre">LIBRARY</span></code> entry in the.def file.</p></li>
<li><p>The DLL is bad. This can occur even if the plugin compiled and linked without errors. Generally, rebuilding the plugin completely (doing a Rebuild All) solves the problem.</p></li>
</ul>
</div>
<div class="section" id="macros-and-project-settings">
<h4>Macros and project settings<a class="headerlink" href="#macros-and-project-settings" title="Permalink to this headline">¶</a></h4>
<p>The following macros must be defined or set in your preprocessor definitions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">WIN_ENV</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WIN_PLATFORM</span> <span class="pre">(preferred)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WIN32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WINDOWS</span></code></p></li>
</ul>
<p>For a plugin to be loaded, it must export the symbol <code class="docutils literal notranslate"><span class="pre">PlugInMain</span></code>. This task can be accomplished by including a.def file in the project for the plugin or by including the line <code class="docutils literal notranslate"><span class="pre">/EXPORT:PlugInMain</span></code> in the project settings for the plugin. If you are developing an Adobe Reader plugin, you also must define a macro to access HFTs available to Adobe Reader. (See <a class="reference external" href="Plugins_ReaderPlug.html#50618405_11144">Creating an Adobe Reader plugin</a>.)</p>
</div>
<div class="section" id="interapplication-communication">
<h4>Interapplication communication<a class="headerlink" href="#interapplication-communication" title="Permalink to this headline">¶</a></h4>
<p>Plugins can add their own DDE messages to those supported by Acrobat or Adobe Reader by registering to receive DDE messages directly. The DDEClnt sample in the Acrobat SDK shows how to do this.</p>
<p>A plugin cannot implement OLE automation or be an ActiveX server through the use of MFC. This is because Acrobat or Adobe Reader uses MFC to implement its OLE automation and there cannot be two MFC-based OLE automation servers in the same process. OLE or ActiveX server plugins must be implemented using the ActiveX Template Library. Plugins should use the DDEML library to handle DDE messages. Problems may arise if they do not.</p>
</div>
<div class="section" id="debugging">
<h4>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h4>
<p>Generally, the debugger built into Visual C++ is adequate to debug plugins. Debugging a Windows plugin compiled with Visual C++ is quite simple if you remember a few things:</p>
<ul class="simple">
<li><p>Specify the Acrobat plugin directory under the link | output tab in the Project Settings dialog box.</p></li>
<li><p>Specify the Acrobat or Adobe Reader executable under the executable for debug session in the Project Settings dialog box.</p></li>
<li><p>The first time you build a plugin, do a Rebuild All.</p></li>
<li><p>Set breakpoints in your source code by selecting the line and clicking the hand icon or pressing the F9 key.</p></li>
<li><p>After setting breakpoints, press the F5 key to have Microsoft Visual Studio start Acrobat or Adobe Reader.</p></li>
</ul>
<p>Two common reasons why breakpoints may not be hit are:</p>
<ul class="simple">
<li><p>You started Acrobat or Adobe Reader from the File Manager or Program Manager. Acrobat or Adobe Reader must be started from within Microsoft Visual Studio to debug plugins.</p></li>
<li><p>You copied your plugin into Acrobat’s plugin directory, instead of specifying the plugin directory in the Link | Output dialog box.</p></li>
</ul>
</div>
<div class="section" id="handling-the-thread-local-storage-tls-limit">
<h4>Handling the thread local storage (TLS) limit<a class="headerlink" href="#handling-the-thread-local-storage-tls-limit" title="Permalink to this headline">¶</a></h4>
<p>There is a limit to the number of plugins that Acrobat or Adobe Reader can load at any given time. This is due to a limitation of the multi-threading model used by the Win32 API and is dependent on the code generation settings of the plugins being loaded.</p>
<p>The following information can help maximize the ability of Acrobat and Adobe Reader to load plugins.</p>
<p>When a process is created, an array of bit flags is allocated for the management of thread-specific data. In the current Win32 implementation, this array is limited to 64 members or TLS slots. Every DLL/plugin that uses thread local storage is allocated at least one slot when loaded using LoadLibrary. This includes system DLLs, plugins, and all the DLLs they load. When all of the TLS slots have been occupied for a process, LoadLibrary will fail for any DLL requiring a TLS slot.</p>
<p>The following guidelines will minimize the TLS slots occupied by plugins:</p>
<ul class="simple">
<li><p>Plugins that are not multi-threaded should only link with the single-threaded run-time libraries that do not occupy a TLS slot.</p></li>
<li><p>If your plugin is multi-threaded, consider linking it with the multi-threaded DLL run-time library. Both the DLL and static versions of the run-time libraries occupy a TLS slot. However, many plugins shipped with Acrobat or Adobe Reader use the DLL version so the run-time DLL does not occupy another TLS slot after it is loaded by the process.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Acrobat and Adobe Reader do not currently generate an error when a plugin fails to load due to the TLS limit.</p>
</div>
</div>
<div class="section" id="using-modal-dialog-boxes">
<h4>Using modal dialog boxes<a class="headerlink" href="#using-modal-dialog-boxes" title="Permalink to this headline">¶</a></h4>
<p>If you write plugins that contain modal dialog boxes on the Windows platform, you need to perform the following steps:</p>
<ol class="arabic simple">
<li><p>When you are creating your dialog box, get the parent <code class="docutils literal notranslate"><span class="pre">HWND</span></code> of the dialog box using the <code class="docutils literal notranslate"><span class="pre">WinAppGetModalParent</span></code> method. Then use this <code class="docutils literal notranslate"><span class="pre">HWND</span></code> when creating the dialog box.</p></li>
</ol>
<p>Ensure that you get the mouse capture before putting up your dialog box so that Acrobat or Adobe Reader does not receive the mouse clicks. After your dialog box returns, set the mouse capture back.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HWND</span> <span class="n">CapturehWnd</span><span class="p">,</span> <span class="n">hParent</span><span class="p">;</span>
 <span class="n">CapturehWnd</span> <span class="o">=</span> <span class="n">GetCapture</span><span class="p">();</span>
 <span class="k">if</span> <span class="p">(</span> <span class="n">CapturehWnd</span> <span class="o">!=</span> <span class="n">NULL</span> <span class="p">)</span>
     <span class="n">ReleaseCapture</span><span class="p">();</span>
 <span class="n">hParent</span> <span class="o">=</span> <span class="n">WinAppGetModalParent</span><span class="p">(</span><span class="n">AVAppGetActiveDoc</span><span class="p">());</span>
 <span class="n">nRetVal</span> <span class="o">=</span> <span class="n">DialogBox</span><span class="p">(</span><span class="n">gHINSTANCE</span><span class="p">,</span> <span class="n">MAKEINTRESOURCE</span><span class="p">(</span><span class="n">IDD_PROPS</span><span class="p">),</span> <span class="n">hParent</span><span class="p">,</span>
 <span class="n">PropsDialogProc</span><span class="p">);</span>
 <span class="k">if</span> <span class="p">(</span> <span class="n">CapturehWnd</span> <span class="o">!=</span> <span class="n">NULL</span> <span class="p">)</span>
     <span class="n">SetCapture</span><span class="p">(</span> <span class="n">CapturehWnd</span> <span class="p">);</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>As soon as you have an <code class="docutils literal notranslate"><span class="pre">HWND</span></code> for the dialog box itself, usually in response to the <code class="docutils literal notranslate"><span class="pre">WM_INITDIALOG</span></code> message, you should acquire a new <code class="docutils literal notranslate"><span class="pre">AVWindow</span></code> using the <code class="docutils literal notranslate"><span class="pre">AVWindowNewFromPlatformThing</span></code> method. Save this <code class="docutils literal notranslate"><span class="pre">AVWindow</span></code> in some place where you can access it when the dialog box is destroyed. Then pass the <code class="docutils literal notranslate"><span class="pre">AVWindow</span></code> to the <code class="docutils literal notranslate"><span class="pre">AVAppBeginModal</span></code> method.</p></li>
</ol>
<p>Here is code that is called in response to a <code class="docutils literal notranslate"><span class="pre">WM_INITDIALOG</span></code> message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">AVWindow</span> <span class="n">sAVWin</span><span class="p">;</span>
<span class="o">.....</span>
 <span class="o">//</span> <span class="n">hWnd</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">window</span> <span class="n">handle</span> <span class="n">of</span> <span class="n">the</span> <span class="n">dialog</span> <span class="n">box</span> <span class="n">window</span>
 <span class="n">sAVWin</span> <span class="o">=</span> <span class="n">AVWindowNewFromPlatformThing</span><span class="p">(</span><span class="n">AVWLmodal</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span>
 <span class="n">gExtensionID</span><span class="p">,</span> <span class="n">hWnd</span><span class="p">);</span>
 <span class="n">AVAppBeginModal</span><span class="p">(</span><span class="n">sAVWin</span><span class="p">);</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>At the time the dialog box is destroyed, usually in response to a <code class="docutils literal notranslate"><span class="pre">WM_DESTROY</span></code> message, end the modal operations using <code class="docutils literal notranslate"><span class="pre">AVAppEndModal</span></code>. If you are not using MFC, destroy the AVWindow for which you saved the handle with <code class="docutils literal notranslate"><span class="pre">AVWindowDestroy</span></code>. Here is a section of code called in response to a <code class="docutils literal notranslate"><span class="pre">WM_DESTROY</span></code> message:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AVAppEndModal</span><span class="p">();</span>
<span class="n">AVWindowDestroy</span><span class="p">(</span><span class="n">sAVWin</span><span class="p">);</span>
</pre></div>
</div>
<p>If you are using MFC to put up your dialog box, do not call <code class="docutils literal notranslate"><span class="pre">AVWindowDestroy</span></code> in the <code class="docutils literal notranslate"><span class="pre">WM_DESTROY</span></code> message. MFC will cause Acrobat or Adobe Reader to destroy the AVWindow automatically.</p>
</div>
</div>
<div class="section" id="mac-os-techniques">
<h3>Mac OS techniques<a class="headerlink" href="#mac-os-techniques" title="Permalink to this headline">¶</a></h3>
<div class="section" id="developing-a-mac-os-plugin">
<h4>Developing a Mac OS plugin<a class="headerlink" href="#developing-a-mac-os-plugin" title="Permalink to this headline">¶</a></h4>
<p>Apple Xcode 9.2is the currently-supported development environment for developing plugins. Apple developer tools contain the correct frameworks and libraries in addition to extensive documentation on making plugins (and applications) Mach-O and Carbon compliant.</p>
<p>With macOS 10.14.5 and macOS 10.15 Catalina, Apple has mandated notarization of all applications. Conforming to this requirement, October 2019 updates for both Adobe Acrobat and Adobe Acrobat Reader applications on DC and 2017 tracks are notarized. Adobe recommends that third-party plug-in developers should get their plug-ins notarized by Apple. Without notarization, your plug-ins will fail to load in Adobe Acrobat and Adobe Acrobat Reader on macOS 10.14.5 and above.</p>
<p>For more information on the Apple Notarization process, see <a class="reference external" href="https://developer.apple.com/documentation/security/notarizing_your_app_before_distribution">Notarizing Your App Before Distribution</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Acrobat SDK samples are built against the MacOSX10.11 as universal binaries.</p>
</div>
</div>
<div class="section" id="using-the-samples">
<h4>Using the samples<a class="headerlink" href="#using-the-samples" title="Permalink to this headline">¶</a></h4>
<p>You are encouraged to use the Starter plugin sample as a basis for developing your plugins. This sample contains the appropriate project settings as defined in the supplied Xcode project configuration files. The Starter sample does nothing other than build a loadable plugin. In addition, other plugins that could be useful as a starting point for developing plugins are available.</p>
<p>The Info.plist file contains a list of properties used by the package. Adobe provides a common info.plist file. It uses project settings to define properties appropriately for each plugin.</p>
</div>
<div class="section" id="establishing-carbon-or-cocoa-compliance">
<h4>Establishing Carbon or Cocoa compliance<a class="headerlink" href="#establishing-carbon-or-cocoa-compliance" title="Permalink to this headline">¶</a></h4>
<p>Carbon and Cocoa are application environments of the Mac OS X operating system. Each includes programming interfaces that include header files, a library, and a runtime.</p>
<p>Acrobat 9.0 uses property lists (Info.plists), which are stored with the executable files and resources that make up an application, known as an application bundle. For more information about converting existing Mac OS applications into Carbon, see <a class="reference external" href="http://developer.apple.com/documentation/Carbon/Conceptual/carbon_porting_guide/">http://developer.apple.com/documentation/Carbon/Conceptual/carbon_porting_guide/</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To prevent problems with older style event handling, plugins must replace calls to <code class="docutils literal notranslate"><span class="pre">WaitNextEvent</span></code> with calls to <code class="docutils literal notranslate"><span class="pre">RunCurrentEventQueue</span></code> or <code class="docutils literal notranslate"><span class="pre">ReceiveNextEvent</span></code>.</p>
</div>
</div>
<div class="section" id="xcode-configuration-files">
<h4>Xcode configuration files<a class="headerlink" href="#xcode-configuration-files" title="Permalink to this headline">¶</a></h4>
<p>Mac OS plugin sample build settings are defined in SDK and project-level configuration files and not within the projects themselves. Xcode configuration files include lists of build settings definitions that can be applied to multiple projects and/or multiple targets.</p>
<p>The configuration files and settings have a hierarchical structure modeled after <a class="reference external" href="http://developer.apple.com/documentation/DeveloperTools/Conceptual/XcodeUserGuide/Contents/Resources/en.lproj/05_05_build_configs/chapter_33_section_6.html">Apple Developer documentation</a></p>
<p>Each project is based on a project-level build settings file(s) that includes SDK-level settings.</p>
<p>At the SDK level, there are separate configuration files for SDK plugin settings (Default.xcconfig), environmental variables (Environment.xcconfig) and resource settings (Resources.xcconfig). Global target settings for _debug and _release targets are stored in Debug.xcconfig and Release.xcconfig, respectively.</p>
<p>At the project level, there are four configuration files:</p>
<ul class="simple">
<li><p>ProjectDefault.xcconfig</p></li>
<li><p>ProjectResources.xcconfig</p></li>
<li><p>Project_debug.xcconfig</p></li>
<li><p>Project_release.xcconfig.</p></li>
</ul>
<p>Each project level configuration file includes the settings from its related (parent) SDK configuration file (for example, ProjectDefault.xconfig includes Default.xcconfig and ProjectResources.xcconfig includes Resources.xcconfig). Generally, SDK-level setting definitions are not included directly, but rather are included through project-level configuration files.</p>
<p>Each SDK plugin project includes a single (Default) configuration based on the ProjectDefault.xcconfig build settings which include the SDK-level Default.xcconfig build settings. Each project has two targets: a _debug target and a _release target. The targets’ build settings are based on Project_debug.xcconfig and Project_release.xconfig, respectively. Similar to the project configuration files, each target configuration settings include its parent SDK configuration file; for instance, Project_debug includes Debug.xcconfig settings.</p>
<p>Project-level configuration files whose names begins with Project are the default project settings included with most SDK plugin samples. Project-level configuration files that are prefixed with a specific sample’s name include settings specific to that sample. The build settings for most SDK projects are extremely similar with most definitions residing in the SDK configuration files.</p>
</div>
<div class="section" id="using-setgworld-rather-than-setport">
<h4>Using SetGWorld rather than SetPort<a class="headerlink" href="#using-setgworld-rather-than-setport" title="Permalink to this headline">¶</a></h4>
<p>With the move to carbonization and double buffering, you should use GetGWorld rather than the toolbox call SetPort. Using both calls in the same plugin can cause the current port to get out of sync with the current device. Using only GetGWorld maintains the correct port and device settings.</p>
<p>In all cases, you should pass <code class="docutils literal notranslate"><span class="pre">GetMainDevice</span></code> unless you have a particular device in mind or you are restoring the GWorld to its original state. The following code is an example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ACCB</span> <span class="n">void</span> <span class="n">ACCB2</span> <span class="n">foo</span><span class="p">(</span><span class="n">AVPageView</span> <span class="n">pageView</span><span class="p">)</span>
 <span class="p">{</span>
     <span class="n">CGrafPtr</span> <span class="n">oldGWorld</span><span class="p">,</span> <span class="n">pagePort</span> <span class="o">=</span> <span class="n">NULL</span><span class="p">;</span>
     <span class="n">GDHandle</span> <span class="n">oldDevice</span><span class="p">;</span>
     <span class="n">pagePort</span> <span class="o">=</span> <span class="p">(</span><span class="n">CGrafPtr</span><span class="p">)</span><span class="n">AVPageViewAcquireMachinePort</span><span class="p">(</span><span class="n">pageView</span><span class="p">);</span>
     <span class="k">if</span> <span class="p">(</span><span class="n">pagePort</span><span class="p">){</span>
         <span class="n">GetGWorld</span><span class="p">(</span><span class="o">&amp;</span><span class="n">oldGWorld</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">oldDevice</span><span class="p">);</span>
         <span class="n">SetGWorld</span><span class="p">(</span><span class="n">pagePort</span><span class="p">,</span> <span class="n">GetMainDevice</span><span class="p">());</span>
         <span class="o">//</span><span class="n">Draw</span> <span class="n">to</span> <span class="n">the</span> <span class="n">port</span> <span class="n">here</span>
         <span class="n">SetGWorld</span><span class="p">(</span><span class="n">oldGWorld</span><span class="p">,</span> <span class="n">oldDevice</span><span class="p">);</span>
         <span class="n">AVPageViewReleaseMachinePort</span><span class="p">(</span><span class="n">pageView</span><span class="p">,</span> <span class="n">pagePort</span><span class="p">);</span>
     <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="locating-and-loading-a-plugin">
<span id="locating-and-loading-plugins-1"></span><h4>Locating and loading a plugin<a class="headerlink" href="#locating-and-loading-a-plugin" title="Permalink to this headline">¶</a></h4>
<p>When Acrobat or Adobe Reader starts, it scans the plugin folder to locate and load plugins with the acroplugin file extension. PowerPC plugins must have creator <code class="docutils literal notranslate"><span class="pre">CARO</span></code> (CFBundleSignature) and type <code class="docutils literal notranslate"><span class="pre">XTND</span></code> (CFBundlePackageType). Each plugin exports a single main entry point, <code class="docutils literal notranslate"><span class="pre">AcroPluginMain</span></code>. When loading a plugin, Acrobat or Adobe Reader jumps to the plugin’s entry point to begin handshaking. (See <a class="reference external" href="Plugins_Pimech.html#50618406_89824">Handshaking</a>.)</p>
</div>
<div class="section" id="using-memory">
<h4>Using memory<a class="headerlink" href="#using-memory" title="Permalink to this headline">¶</a></h4>
<p>The Acrobat or Adobe Reader memory allocator gets its memory from the system and not from the application’s memory partition. (See <a class="reference external" href="Plugins_Pimech.html#50618406_68646">Acquiring and releasing objects</a>.)</p>
<p>Memory allocation guidelines are particularly important in Mac OS to ensure that memory is allocated from the system rather than from the application partition. Otherwise, your plugin is very likely to cause Acrobat or Adobe Reader to run out of memory.</p>
</div>
<div class="section" id="resource-file-considerations">
<h4>Resource file considerations<a class="headerlink" href="#resource-file-considerations" title="Permalink to this headline">¶</a></h4>
<p>Acrobat or Adobe Reader open a plugin’s resource file with read-only permissions. In addition, plugins cannot assume that their resource file is on top of the resource chain each time they are entered by using an <code class="docutils literal notranslate"><span class="pre">ASCallback</span></code>. Plugins must explicitly move their resource file to the top of the resource chain before accessing resources in it. As a result, all code that directly or indirectly invokes <code class="docutils literal notranslate"><span class="pre">GetResource</span></code> must be modified. This can be accomplished either directly or by using the SafeResources routines in the Acrobat SDK.</p>
</div>
<div class="section" id="using-saferesources">
<h4>Using SafeResources<a class="headerlink" href="#using-saferesources" title="Permalink to this headline">¶</a></h4>
<p>The recommended way to access resources in the plugin file is to use the functions declared in the header file SafeResources.h in the SDK. These functions are direct replacements for each Toolbox function that directly or indirectly calls <code class="docutils literal notranslate"><span class="pre">GetResource</span></code>. The replacement functions automatically place the plugin file on top of the resource chain before accessing the resource, and restore the old resource chain after accessing the resource.</p>
</div>
<div class="section" id="manipulating-the-resource-chain-directly">
<h4>Manipulating the resource chain directly<a class="headerlink" href="#manipulating-the-resource-chain-directly" title="Permalink to this headline">¶</a></h4>
<p>If you choose to manipulate the resource chain directly, you must modify all code that directly or indirectly calls GetResource. The list of such Toolbox calls can be determined from SafeResources.h, by removing the prefix Safe from the names of the calls. Before calling each such Toolbox function, you must put the plugin’s resource file on top of the resource chain, and after such calls, you must restore the old resource chain. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DialogPtr</span> <span class="n">myDialog</span> <span class="o">=</span> <span class="n">GetNewDialog</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="p">(</span><span class="n">Ptr</span><span class="p">)</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p>must be rewritten as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">short</span> <span class="n">oldResFile</span><span class="p">;</span>
 <span class="n">DialogPtr</span> <span class="n">myDialog</span><span class="p">;</span>
 <span class="n">oldResFile</span> <span class="o">=</span> <span class="n">CurResFile</span><span class="p">();</span>
 <span class="n">UseResFile</span><span class="p">(</span><span class="n">gResFile</span><span class="p">);</span>
 <span class="n">myDialog</span> <span class="o">=</span> <span class="n">GetNewDialog</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="p">(</span><span class="n">Ptr</span><span class="p">)</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
 <span class="n">useResFile</span><span class="p">(</span><span class="n">oldResFile</span><span class="p">);</span>
</pre></div>
</div>
<p>The global variable <code class="docutils literal notranslate"><span class="pre">gResFile</span></code> is automatically set up during handshaking and is declared in PICommon.h.</p>
</div>
<div class="section" id="macros">
<h4>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h4>
<p>The following macros must be defined:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">POWER_PC</span></code> must be defined</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PLATFORM</span></code> must be defined as MacPlatform.h</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PRODUCT</span></code> must be defined as Plugin.h</p></li>
</ul>
<p>These macros are automatically defined correctly for the platform and development environment by the header file PIPrefix.h. You are encouraged to use this header file.</p>
</div>
<div class="section" id="mac-os-only-methods">
<h4>Mac OS-only methods<a class="headerlink" href="#mac-os-only-methods" title="Permalink to this headline">¶</a></h4>
<p>Plugins should not use the <code class="docutils literal notranslate"><span class="pre">ASPathFromPlatformPath</span></code> method in Mac OS. Instead, they should invoke <code class="docutils literal notranslate"><span class="pre">ASFileSysCreatePathName</span></code>. The <code class="docutils literal notranslate"><span class="pre">AVAppDidOrWillSwitchForDialog</span></code> method is only useful to plugins in Mac OS.</p>
</div>
<div class="section" id="inter-application-communication">
<span id="interapplication-communication-1"></span><h4>Inter application communication<a class="headerlink" href="#inter-application-communication" title="Permalink to this headline">¶</a></h4>
<p>Plugins can add their own Apple events to those supported by Acrobat or Adobe Reader by hooking into the Apple event handling loop for Acrobat or Adobe Reader. This is done by replacing the <code class="docutils literal notranslate"><span class="pre">AVAppHandleAppleEvent</span></code> method in the API. If the plugin receives an Apple event it does not want to handle, it should invoke the implementation of the method it replaced, allowing other plugins or Acrobat or Adobe Reader the opportunity to handle the Apple event.</p>
</div>
</div>
</div>
<div class="section" id="creating-a-sample-plugin">
<h2>Creating a sample plugin<a class="headerlink" href="#creating-a-sample-plugin" title="Permalink to this headline">¶</a></h2>
<p>When you start a new Acrobat plugin for the Windows platform, it is recommended that you use the Starter sample plugin as a starting point. On Windows, the project file is named Starter.sln and can be found in the following directories:</p>
<ul class="simple">
<li><p>C:Acrobat SDKPluginSupportSamplesStarterwin32</p></li>
<li><p>C:Acrobat SDKPluginSupportSamplesStarterwin64</p></li>
</ul>
<p>However, to improve your understanding of creating plugins, the remaining parts of this section discuss what tasks you must perform when creating a plugin from a blank project. When using the Starter sample plugin, it is not necessary to perform some of the tasks discussed in this section. For example, you do not need to start a new project, include header files, or add the PIMain source file. However, you still have to add application logic, compile, and build your project.</p>
<p>If you are developing on Windows using Visual Studio, you can use the Plugin Wizard tool to set up your plugin project. This tool includes the Acrobat SDK header files required for specific types of plugin solutions, and it adds the PIMain source file. The Wizard creates classes that uses <code class="docutils literal notranslate"><span class="pre">ToDo</span></code> markers to identify logic you must supply. You must still compile and build your plugin, as described in this section. See the <a class="reference external" href="../SamplesGuide/book/Samples_Tools.html#96791">Plugin Wizard, see</a>.</p>
<p>For information on developing an Adobe Reader plugin, see <a class="reference external" href="Plugins_ReaderPlug.html#50618405_11144">Creating an Adobe Reader plugin</a>.</p>
<p>To create a plugin:</p>
<ol class="arabic simple">
<li><p>Start a new C project.</p></li>
<li><p>Include Acrobat SDK header files.</p></li>
<li><p>Add the PIMain source file to your project.</p></li>
<li><p>Add application logic to meet your business requirements.</p></li>
<li><p>Compile and build your plugin.</p></li>
</ol>
<div class="section" id="including-acrobat-sdk-library-files">
<h3>Including Acrobat SDK library files<a class="headerlink" href="#including-acrobat-sdk-library-files" title="Permalink to this headline">¶</a></h3>
<p>To create a plugin, you must include Acrobat SDK library files, such as header files, into your project. You can link to these library files from within your development environment. For more information, see the documentation that accompanies your development environment.</p>
<p>The Acrobat SDK library files are separated into the following categories:</p>
<ul class="simple">
<li><p>Header files that are common to most plugins and generally referenced from PIMain.c.</p></li>
<li><p>Header files specific to core and extended APIs.</p></li>
</ul>
<p>You can find these header files in  Acrobat SDKPluginSupportHeaders</p>
</div>
<div class="section" id="adding-the-pimain-source-file">
<h3>Adding the PIMain source file<a class="headerlink" href="#adding-the-pimain-source-file" title="Permalink to this headline">¶</a></h3>
<p>You must add the PIMain.c file to your project in order to create a plugin. This source file contains application logic such as handshaking methods, that are required by plugins. You can find this file in Acrobat SDKPluginSupportHeadersAPI</p>
<p>After you add this file, you can add application logic to your project.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As a plugin developer, you will never have to create the application logic that is located in the PIMain.c file or modify this file. However, you must include this file in your project.</p>
</div>
</div>
<div class="section" id="adding-application-logic">
<h3>Adding application logic<a class="headerlink" href="#adding-application-logic" title="Permalink to this headline">¶</a></h3>
<p>You must add a source file to your project that contains the following methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PluginExportHFTs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PluginImportReplaceAndRegister</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PluginInit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PluginUnload</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GetExtensionName</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PIHandshake</span></code></p></li>
</ul>
<p>You can copy the source code that is located in the StartInit.cpp file (located in the Starter plugin) and paste it. For information about these methods, see <a class="reference external" href="Plugins_Pimech.html#50618406_58810">About plugin initialization</a>.</p>
<p>The entry point to a plugin is the <code class="docutils literal notranslate"><span class="pre">PluginInit</span></code> method. For example, if you add the following line of code to this method, an alert box is displayed when Adobe Reader or Acrobat is started:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AVAlertNote</span><span class="p">(</span><span class="s2">&quot;This is your first plugin&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>You can add an application to the <code class="docutils literal notranslate"><span class="pre">PluginInit</span></code> method to meet your business requirements. You can invoke other user-defined functions that you create or you can add application logic to this method that performs a specific task. For example, you can add application logic to this method that adds a new menu item to Adobe Reader or Acrobat. (See <a class="reference external" href="Plugins_Menu.html#50618409_98126">Creating Menus and Menu Commands</a>.)</p>
</div>
<div class="section" id="compiling-and-building-your-plugin">
<h3>Compiling and building your plugin<a class="headerlink" href="#compiling-and-building-your-plugin" title="Permalink to this headline">¶</a></h3>
<p>You must compile your plugin to build the API file. As stated earlier in this guide, plugins are equivalent to Windows DLLs; however, the file extension is.api, not.dll. Once you create an API file, you must add it to Program FilesAdobeAcrobatplugins.</p>
<p>After you add the plugin to this directory, you must restart Acrobat for the plugin to take effect.</p>
</div>
</div>
<div class="section" id="creating-a-sample-pdf-library-application">
<h2>Creating a sample PDF Library application<a class="headerlink" href="#creating-a-sample-pdf-library-application" title="Permalink to this headline">¶</a></h2>
<p>A PDF Library application does not have the same overhead as a plugin. That is, unlike a plugin, a PDF Library project does not require handshaking and initialization methods. A PDF Library application is a standard C/C++ project with PDF Library files included.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a detailed discussion about using the PDF Library API, see <a class="reference external" href="Plugins_Insertext.html#50618411_44849">Inserting Text into PDF Documents</a>.</p>
</div>
<div class="section" id="contents-of-the-pdf-library-sdk">
<h3>Contents of the PDF Library SDK<a class="headerlink" href="#contents-of-the-pdf-library-sdk" title="Permalink to this headline">¶</a></h3>
<p>The Adobe PDF Library SDK consists of the following components:</p>
<ul class="simple">
<li><p>Core libraries that provide PDF Library functionality</p></li>
<li><p>Header files that provide access to the libraries</p></li>
<li><p>Fonts used in the library’s basic operations</p></li>
<li><p>Sample applications and code snippets showing how to use the library for a variety of purposes</p></li>
<li><p>Documentation discussing development techniques and the PDF Library APIs.</p></li>
</ul>
<div class="section" id="including-library-files">
<h4>Including library files<a class="headerlink" href="#including-library-files" title="Permalink to this headline">¶</a></h4>
<p>The following components are shipped with the PDF Library SDK:</p>
<ul>
<li><p><strong>Acrobat PDF Library</strong>: These are DLLs on the Windows platform and a shared object library Mac OS. In Windows, an interface library must be included in your Microsoft Visual Studio project. The following are the file names of these libraries:</p></li>
<li><p><strong>AdobePDFL.lib</strong>: The interface library for the Windows PDF Library DLL.</p></li>
<li><p><strong>AdobePDFL.dll</strong>: The Windows PDF Library DLL.</p></li>
<li><p><strong>libpdfl.so</strong>: The shared object library for supported UNIX platforms (deprecated).</p></li>
<li><p><strong>AdobePDFL framework</strong>: The framework for Mac OS.</p></li>
<li><p>PDF Library SDK header files: The PDF Library SDK include directory contains headers for accessing the API methods. You can link to these library files from within your development environment. Consult the documentation that accompanies your development environment for information about linking to library files.</p>
<p>These files perform the same task in the PDF Library SDK as in the Acrobat SDK. For example, the PDCalls.h provides HFT functionality for PD layer functions. (See <a class="reference external" href="Plugins_CreatingSimplePlug.html#50618417_78469">Including Acrobat SDK library files</a>.)</p>
</li>
</ul>
</div>
<div class="section" id="sample-code">
<h4>Sample code<a class="headerlink" href="#sample-code" title="Permalink to this headline">¶</a></h4>
<p>Samples are provided for the Windows and Mac OS in two forms:</p>
<ul class="simple">
<li><p>Stand-alone sample programs-  mi</p></li>
<li><p>The SnippetRunner, an environment and infrastructure for code snippets that illustrate specific functions or techniques.</p></li>
</ul>
<p>Sample code is intended to demonstrate the use of the PDF Library API and is not necessarily robust enough for a final implementation. The sample code itself is platform-independent, as is the majority of the PDF Library API; the only difference between the sample source code for different platforms is the line-endings.</p>
<p>The Mac OS samples are provided as application packages. This format is normal for double-clickable applications, but they can also be run from the command line. To run them from the command line, you can either specify the command line arguments in the Xcode project file and execute within the IDE, or you can target the actual executable, which is in the Contents/MacOS folder inside the package. For example, from the Terminal window:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd helowrld.app/Contents/MacOS/
$ helowrld
</pre></div>
</div>
<p>The MT (multi-threading) samples require command line arguments (a default set is added to the project files). Therefore, execution from within the IDE is preferred. Also, for those samples you must use absolute paths for the command line arguments.</p>
<div class="section" id="stand-alone-samples">
<h5>Stand-alone samples<a class="headerlink" href="#stand-alone-samples" title="Permalink to this headline">¶</a></h5>
<p>The following table lists the stand-alone sample applications that accompany the PDF Library SDK.</p>
<table class="docutils align-default" id="section-1">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sample application</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>addelem</p></td>
<td><p>Shows how to modify existing pages in a PDF file. It adds a footer to each page and shifts the first line of each text run.</p></td>
</tr>
<tr class="row-odd"><td><p>all</p></td>
<td><p>Used to compile all samples at the same time. Available for Windows and Mac OS only.</p></td>
</tr>
<tr class="row-even"><td><p>CreatePattern</p></td>
<td><p>Shows how to create tiling patterns in a PDF document.</p></td>
</tr>
<tr class="row-odd"><td><p>Decryption</p></td>
<td><p>Shows how to programmatic-ally decrypt a PDF document encrypted with Acrobat standard security options.</p></td>
</tr>
<tr class="row-even"><td><p>drawtomemory</p></td>
<td><p>Shows how to render a page to memory using the <code class="docutils literal notranslate"><span class="pre">PDPageDrawContentsToMemory</span></code> PDF Library method, and creates a PDF file with a bitmap image rendered on the page.</p></td>
</tr>
<tr class="row-odd"><td><p>fontembd</p></td>
<td><p>Shows font enumeration and font embedding.</p></td>
</tr>
<tr class="row-even"><td><p>helowrld</p></td>
<td><p>Shows the basics of creating a PDF document.</p></td>
</tr>
<tr class="row-odd"><td><p>JPXEncode</p></td>
<td><p>Re-encodes PDF embedded images with the JPX filter and writes out a new PDF file with the re-encoded images embedded.</p></td>
</tr>
<tr class="row-even"><td><p>mergepdf</p></td>
<td><p>Shows how to merge two PDF files.</p></td>
</tr>
<tr class="row-odd"><td><p>MTInMemFS</p></td>
<td><p>Demonstrates use of an in-memory file system for a simple workflow within a multi-threaded context.</p></td>
</tr>
<tr class="row-even"><td><p>MTSerialNums</p></td>
<td><p>Demonstrates creation of multiple threads to simultaneously generate multiple PDFs.</p></td>
</tr>
<tr class="row-odd"><td><p>MTTextExtract</p></td>
<td><p>Demonstrates multiple threads concurrently processing multiple PDF documents.</p></td>
</tr>
<tr class="row-even"><td><p>Peddler</p></td>
<td><p>Shows how to add hyperlinking (specifically targeting URIs) capabilities to an existing PDF document.</p></td>
</tr>
<tr class="row-odd"><td><p>printpdf</p></td>
<td><p>Shows how to print a PDF file to a printer or to a file using the PDF Library method PDFLPrintDoc.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="snippetrunner-application">
<h5>SnippetRunner application<a class="headerlink" href="#snippetrunner-application" title="Permalink to this headline">¶</a></h5>
<p>SnippetRunner allows you to quickly prototype code containing PDF Library API calls without the overhead of writing and verifying a complete application. It provides an infrastructure and utility functions to support execution and testing of code snippets, which are small but complete portions of PDF Library application code.</p>
<p>SnippetRunner consists of these major components:</p>
<ul class="simple">
<li><p>An application that acts as a back-end server and that provides the basic functionality, including a parameter input mechanism, debug support, and exception handling.</p></li>
<li><p>A graphical user interface that acts as a client to the back-end server. (This user interface, called the Common User Interface, is also provided with the Acrobat SDK, which uses an Acrobat plugin for its back end.)</p></li>
</ul>
<p>For more information about SnippetRunner, see the ` &lt;../SnippetRunnerCookbook/Snippet_SnippetRunnerCookbook.html#38527&gt;`__.</p>
</div>
</div>
</div>
<div class="section" id="developing-applications-with-the-adobe-pdf-library">
<h3>Developing applications with the Adobe PDF Library<a class="headerlink" href="#developing-applications-with-the-adobe-pdf-library" title="Permalink to this headline">¶</a></h3>
<p>This section details the compiler environment variables (macros) required to build applications against the Adobe PDF Library. On all platforms, you must define the PRODUCT macro for the preprocessor.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PRODUCT</span><span class="o">=</span><span class="s2">&quot;HFTLibrary.h&quot;</span>
</pre></div>
</div>
<p>This macro is used as a trigger for conditional compilation and allows the same headers to be used for both the Acrobat core API and the Adobe PDF Library.</p>
<div class="section" id="windows">
<h4>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h4>
<p>The following macros must also be defined in the IDE project settings for applications to compile correctly on the Windows platform:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">WIN_ENV</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WIN32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WIN_PLATFORM</span></code></p></li>
</ul>
<p>The Adobe PDF Library is compiled with code generation set to Multithreaded. Applications linking with the Adobe PDF Library must have code generation settings that match or there will be conflicts between the Microsoft libraries <code class="docutils literal notranslate"><span class="pre">MSVCRT</span></code> and <code class="docutils literal notranslate"><span class="pre">LIBCMT</span></code>.</p>
<p>In Visual Studio, the Ignore Libraries settings (click Project Settings &gt; Link &gt; Input &gt; Ignore libraries) should not ignore LIBCMT (other versions of PDF Library do ignore it).</p>
<p>The Adobe PDF Library is distributed as an interface library (AdobePDFL.lib) and matching DLL (AdobePDFL.dll). You should link the interface library into your application.</p>
<p>The operating system must be able to access the Adobe PDF Library at runtime. It does so by searching the paths specified by the PATH environment variable, as well as the folder in which the application was launched.</p>
</div>
<div class="section" id="mac-os">
<h4>Mac OS<a class="headerlink" href="#mac-os" title="Permalink to this headline">¶</a></h4>
<p>The Mac OS libraries use a precompiled header and prefix file to define the appropriate macros. See Precompile.pch in the Samples:utils directory of the Adobe PDF Library SDK for the macros required to successfully compile the samples.</p>
</div>
</div>
<div class="section" id="initialization-and-termination">
<h3>Initialization and termination<a class="headerlink" href="#initialization-and-termination" title="Permalink to this headline">¶</a></h3>
<p>Applications must initialize and terminate the Adobe PDF Library appropriately:</p>
<ul class="simple">
<li><p>Call <code class="docutils literal notranslate"><span class="pre">PDFLInit</span></code> to set up internal data structures, locate required resources such as fonts, and perform initialization (such as setting client-provided memory allocation routines). Calling most library functions without successfully initializing the library results in error conditions. The rest of this section provides details on using PDFLInit.</p></li>
<li><p>Call <code class="docutils literal notranslate"><span class="pre">PDFLTerm</span></code> to clean up before an application terminates or when access to PDF Library functionality is no longer needed.</p></li>
</ul>
<p>Since the PDF Library supports thread-safety (since version 6.1.2), initialization and termination are handled on a per-thread basis.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PDFLInit</span></code> function takes as a parameter a <code class="docutils literal notranslate"><span class="pre">PDFLData</span></code> structure, defined in the API header file PDFInit.h. You must provide valid values for the following members of the structure before passing it to <code class="docutils literal notranslate"><span class="pre">PDFLInit</span></code> :</p>
<ul class="simple">
<li><p>size denotes the size of the structure and can be obtained with <code class="docutils literal notranslate"><span class="pre">sizeof(PDFLDataRec)</span></code>.</p></li>
<li><p>listLen is the number of directories listed in dirList.</p></li>
<li><p>dirList is an array of directories that contain font resources. The following discussion explains how to use this member on each of the supported platforms.</p></li>
</ul>
<p>In Windows and Mac OS, the PDF Library searches for fonts in the default system and in their subdirectories (to 99 levels). You can specify additional font directories to search (also to 99 levels) in the dirList array. (Note that this can affect performance.)</p>
<p>Here is an example showing how to pass the font paths to dirList for Windows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pdflLibData</span><span class="o">.</span><span class="n">dirList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="s2">&quot;C:MyfontfolderCMap&quot;</span><span class="p">);</span>
 <span class="n">pdflLibData</span><span class="o">.</span><span class="n">dirList</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="s2">&quot;C:MyfontfolderCIDFont&quot;</span><span class="p">);</span>
 <span class="n">pdflLibData</span><span class="o">.</span><span class="n">dirList</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span> <span class="n">strdup</span><span class="p">(</span><span class="s2">&quot;C:MyfontfolderFont&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The paths can be either full paths or paths relative to the directory from which the executable linking in the Adobe PDF Library was started. You can set the value <code class="docutils literal notranslate"><span class="pre">kPDFLInitIgnoreDefaultDirectories</span></code> in the flags field of the <code class="docutils literal notranslate"><span class="pre">PDFLData</span></code> structure to indicate that the default font directories should not be searched but only the directories provided in dirList.</p>
<p>For more details, see the functions <code class="docutils literal notranslate"><span class="pre">PDFLGetDirList_Win</span></code> and <code class="docutils literal notranslate"><span class="pre">PDFLGetDirList_Mac</span></code> in the MyPDFLibUtils.cpp file in the <code class="docutils literal notranslate"><span class="pre">Samples/utils</span></code> directory.</p>
</div>
<div class="section" id="multithreading">
<h3>Multithreading<a class="headerlink" href="#multithreading" title="Permalink to this headline">¶</a></h3>
<p>When using the thread-safe PDF Library, initialization and termination now additionally need to be performed for each thread that calls into the library, as well as at the process level. The interfaces for per-thread initialization/termination are the same as before.</p>
<p>Since each thread acquires an independent PDF Library memory context, you should not share PDF Library data and resources among threads. This includes sharing the same PDF file.</p>
<p>The Adobe PDF libraries are thread-safe. To use threads, simply make the appropriate system call (<code class="docutils literal notranslate"><span class="pre">beginthreadex</span></code> on Windows). Multiple threads cannot share PDF Library data types. However, they share the same process heap; therefore, an application can share generic data types between threads. Multiple threads can open the same file read-only; however, multiple threads should not attempt to write to the same PDF document.</p>
<p>In Windows, <code class="docutils literal notranslate"><span class="pre">CreateThread</span></code> is not recommended if the application is using most stdio.h-defined functions, including file I/O and string manipulation. It is best to <code class="docutils literal notranslate"><span class="pre">use</span> <span class="pre">_beginthreadex</span></code> on Windows, which performs extra bookkeeping to ensure thread safety.</p>
</div>
</div>
<div class="section" id="upgrading-existing-plugins">
<h2>Upgrading existing plugins<a class="headerlink" href="#upgrading-existing-plugins" title="Permalink to this headline">¶</a></h2>
<p>This section discusses how to upgrade an existing Acrobat plugin to work with a newer version of Acrobat.</p>
<p>Refer to the Release Notes.</p>
<div class="section" id="detecting-supported-apis">
<h3>Detecting supported APIs<a class="headerlink" href="#detecting-supported-apis" title="Permalink to this headline">¶</a></h3>
<p>Acrobat Pro and Acrobat Pro Extended support the full set of APIs. For Acrobat Standard and Adobe Reader, if you try to use an API that is not supported, nothing will happen. The same HFT version numbers are used across products, so all APIs are callable on all products, but some APIs simply do not work on certain products.</p>
<p>Additionally, the Extended APIs provided by plugins do not work if an Acrobat product does not support the use of those APIs. The HFTs do not load, so you must check whether the HFT was successfully imported.</p>
<p>It is possible to determine in your code whether the HFT you are expecting is in fact the one that you are importing, and whether it imported at all: simply check for a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> return value. For example, a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> will be returned in the following call if <code class="docutils literal notranslate"><span class="pre">AcroColorHFTNAME</span></code> with the specified version is not available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gAcroColorHFT</span> <span class="o">=</span> <span class="n">ASExtensionMgrGetHFT</span><span class="p">(</span><span class="n">ASAtomFromString</span><span class="p">(</span><span class="n">AcroColorHFTNAME</span><span class="p">),</span>
 <span class="n">PI_ACROCOLOR_VERSION</span><span class="p">);</span>
</pre></div>
</div>
<p>Plugins that use new HFTs introduced with the current Acrobat version do not run on earlier Acrobat versions. Whether or not an attempt to load these HFTs forces the plugin to fail is controlled by flags in PIMain.c of the form <code class="docutils literal notranslate"><span class="pre">PI_HFT_OPTIONAL</span></code>. By default, these flags are undefined, so if your plugin attempts to load HFT and cannot, initialization fails. If you define <code class="docutils literal notranslate"><span class="pre">PI_HFT_OPTIONAL</span></code> with some value (preferably 1) and the load is not successful, initialization continues.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">ASGetConfiguration</span></code> method to determine the configuration on which the plugin is running. Use conditional logic in your code so that it makes calls only to APIs that are supported on that particular configuration. In any case, your code should check for <code class="docutils literal notranslate"><span class="pre">NULL</span></code> HFTs so that it does not call APIs that are not supported on the current configuration.</p>
<p>Under Adobe Reader, when a rights-enabled PDF file is opened, a flag is set that allows a plugin to use APIs that become enabled as a result of loading the rights-enabled PDF. Familiarize yourself with the features available on the different configurations of Acrobat to ensure that you install plugin menus and toolbars appropriately at initialization. Ensure that you make calls only to APIs supported on the platform detected.</p>
</div>
</div>
<div class="section" id="migrating-pdfl-apps-to-xcode">
<h2>Migrating PDFL apps to Xcode<a class="headerlink" href="#migrating-pdfl-apps-to-xcode" title="Permalink to this headline">¶</a></h2>
<p>For the PDF Library, the supported Mac OS X development environment is Xcode (formerly the supported environment was Metrowerks CodeWarrior). With this change comes a new set of headers, frameworks and libraries that may or may not be compatible with existing plugin code and with existing CodeWarrior projects.</p>
<p>You can migrate a PDF Library application that was created using CodeWarrior to Xcode. As a starting point, it is recommended that you read the information that is located at the following URL: <a class="reference external" href="http://developer.apple.com/documentation/DeveloperTools/Conceptual/MovingProjectsToXcode/index.html">http://developer.apple.com/documentation/DeveloperTools/Conceptual/MovingProjectsToXcode/index.html</a>.</p>
<p>The PDF Library SDK samples have debug and release targets that are built against the MacOSX10.4u.sdk SDK. These are carbon applications that create universal binaries linked to universal Adobe libraries. For a complete list of compatible application build settings, see the MacSDKConfiguration Xcode configuration files and ProjectConfigurations files included in the PDF Library SDK.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Adobe Inc..
      <span class="lastupdated">
        Last updated on Feb 23, 2022.
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>