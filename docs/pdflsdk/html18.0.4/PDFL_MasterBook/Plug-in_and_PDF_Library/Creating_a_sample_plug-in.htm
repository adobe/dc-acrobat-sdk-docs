<!DOCTYPE HTML>
<html>
<head><meta http-equiv="refresh" content="2;url=https://opensource.adobe.com/dc-acrobat-sdk-docs/pdflsdk/" /><meta name="robots" content="noindex, nofollow">

 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>Creating a sample plug-in</title>

 

 <link rel="stylesheet" href="Plug-in_and_PDF_Library.css" />
 <link rel="stylesheet" href="../../HTMLStyling.css" />


 <script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>
 <meta name="generator" content="Adobe FrameMaker 2017" />
<script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="../../template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = "../..";
gCommonRootRelPath = "../..";
gTopicId = "3.3.2";
</script>
 <meta name="brsprev" value="PDFL_MasterBook/Plug-in_and_PDF_Library/Working_with_platform-specific_techniques.htm">
 <meta name="brsnext" value="PDFL_MasterBook/Plug-in_and_PDF_Library/Creating_a_sample_PDF_Library_application.htm">
 <meta name="topic-breadcrumbs" content="Developing Plug-ins and Applications > Creating Plug-in and PDF Library Applications" />
</head>

<body dir="ltr">
<script type="text/javascript" src="../../ehlpdhtm.js"></script>

   
	<!-- Body place holder starts here-->
    <div dir="ltr">
  <p dir="ltr" class="FM_3Head"><a name="XREF_35439_Creating_a_sample"></a>Creating a sample plug-in</p>
  <p dir="ltr" class="FM_Body">When you start a new <span data-name="AcrobatProd" data-val="Acrobat" data-showval="TRUE" data-format="AcrobatProd">Acrobat</span>&#160;plug-in for the Windows platform, it is recommended that you use the Starter sample plug-in as a starting point. On Windows and Vista, the project file is named Starter.sln and can be found in the following directories:</p>
  <p dir="ltr" class="FM_Indent1">C:\Acrobat SDK\PluginSupport\Samples\Starter\win32</p>
  <p dir="ltr" class="FM_Indent1">C:\Acrobat SDK\PluginSupport\Samples\Starter\win64</p>
  <p dir="ltr" class="FM_Body">However, to improve your understanding of creating plug-ins, the remaining parts of this section discuss what tasks you must perform when creating a plug-in from a blank project. When using the Starter sample plug-in, it is not necessary to perform some of the tasks discussed in this section. For example, you do not need to start a new project, include header files, or add the PIMain source file. However, you still have to add application logic, compile, and build your project.</p>
  <p dir="ltr" class="FM_Body">If you are developing on Windows using Visual Studio 2005, you can use the Plug-in Wizard tool to set up your plug-in project. This tool includes the <span data-name="AcrobatSDKProd" data-val="Acrobat&nbsp;SDK" data-showval="TRUE" data-format="AcrobatSDKProd">Acrobat&nbsp;SDK</span>&#160;header files required for specific types of plug-in solutions, and it adds the PIMain source file. The Wizard creates classes that uses <span class="FM_Courier">ToDo</span>&#160;markers to identify logic you must supply. You must still compile and build your plug-in, as described in this section.</p>
  <p dir="ltr" class="FM_6HeadStep"><span class="FM_Z_Arrow">ä<span style="padding-left: 8pt;" class="FMAutoNumber_1"></span></span>To create a plug-in:</p>
  <p dir="ltr" class="FM_StepReset"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>1.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>Start a new C project.</p>
  <p dir="ltr" class="FM_Step"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>2.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>Include <span data-name="AcrobatSDKProd" data-val="Acrobat&nbsp;SDK" data-showval="TRUE" data-format="AcrobatSDKProd">Acrobat&nbsp;SDK</span> header files.</p>
  <p dir="ltr" class="FM_Step"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>3.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>Add the PIMain source file to your project.</p>
  <p dir="ltr" class="FM_Step"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>4.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>Add application logic to meet your business requirements.</p>
  <p dir="ltr" class="FM_Step"><span style="padding-left: 66pt;" class="FMAutoNumber_1"></span>5.<span style="padding-left: 2pt;" class="FMAutoNumber_2"></span>Compile and build your plug-in.</p>
  <p dir="ltr" class="FM_4Head"><a name="TOC_Including_Acrobat_SDK"></a><a name="XREF_78469_Including_Acrobat"></a>Including <span data-name="AcrobatSDKProd" data-val="Acrobat&nbsp;SDK" data-showval="TRUE" data-format="AcrobatSDKProd">Acrobat&nbsp;SDK</span> library files</p>
  <p dir="ltr" class="FM_Body">To create a plug-in, you must include <span data-name="AcrobatSDKProd" data-val="Acrobat&nbsp;SDK" data-showval="TRUE" data-format="AcrobatSDKProd">Acrobat&nbsp;SDK</span>&#160;library files, such as header files, into your project. You can link to these library files from within your development environment. For more information, see the documentation that accompanies your development environment. </p>
  <p dir="ltr" class="FM_Body">The <span data-name="AcrobatSDKProd" data-val="Acrobat&nbsp;SDK" data-showval="TRUE" data-format="AcrobatSDKProd">Acrobat&nbsp;SDK</span> library files are separated into the following categories:</p>
  <p dir="ltr" class="FM_Bullet1"><span class="FM_Z_Bullet">•<span style="padding-left: 12pt;" class="FMAutoNumber_1"></span></span>Header files that are common to most plug-ins and generally referenced from PIMain.c.</p>
  <p dir="ltr" class="FM_Bullet1"><span class="FM_Z_Bullet">•<span style="padding-left: 12pt;" class="FMAutoNumber_1"></span></span>Header files specific to core and extended APIs.</p>
  <p dir="ltr" class="FM_Body">You can find these header files in the following directory:</p>
  <p dir="ltr" class="FM_Bullet1"><span class="FM_Z_Bullet">•<span style="padding-left: 12pt;" class="FMAutoNumber_1"></span></span>Acrobat SDK\PluginSupport\Headers</p>
  <p dir="ltr" class="FM_4Head"><a name="TOC_Adding_the_PIMain_source"></a>Adding the PIMain source file</p>
  <p dir="ltr" class="FM_Body">You must add the PIMain.c file to your project in order to create a plug-in. This source file contains application logic such as handshaking methods, that are required by plug-ins. You can find this file in the following directory:</p>
  <p dir="ltr" class="FM_Indent1">\Acrobat SDK\PluginSupport\Headers\API</p>
  <p dir="ltr" class="FM_Body">After you add this file, you can add application logic to your project.</p>
  <p dir="ltr" class="FM_Note"><span class="FM_Z_NoteCaution">Note:<span style="padding-left: 4pt;" class="FMAutoNumber_1"></span></span>As a plug-in developer, you will never have to create the application logic that is located in the PIMain.c file or modify this file. However, you must include this file in your project.</p>
  <p dir="ltr" class="FM_4Head"><a name="TOC_Adding_application_logic"></a><a name="IX_adding_application_logic"></a><a name="IX_StartInit_cpp_file"></a>Adding application logic</p>
  <p dir="ltr" class="FM_Body">You must add a source file to your project that contains the following methods:</p>
  <p dir="ltr" class="FM_Bullet1"><span class="FM_Z_Bullet">•<span style="padding-left: 12pt;" class="FMAutoNumber_1"></span></span><span class="FM_Courier">PluginExportHFTs</span>&#160;</p>
  <p dir="ltr" class="FM_Bullet1"><span class="FM_Z_Bullet">•<span style="padding-left: 12pt;" class="FMAutoNumber_1"></span></span><span class="FM_Courier">PluginImportReplaceAndRegister</span>&#160;</p>
  <p dir="ltr" class="FM_Bullet1"><span class="FM_Z_Bullet">•<span style="padding-left: 12pt;" class="FMAutoNumber_1"></span></span><span class="FM_Courier">PluginInit</span>&#160;</p>
  <p dir="ltr" class="FM_Bullet1"><span class="FM_Z_Bullet">•<span style="padding-left: 12pt;" class="FMAutoNumber_1"></span></span><span class="FM_Courier">PluginUnload</span>&#160;</p>
  <p dir="ltr" class="FM_Bullet1"><span class="FM_Z_Bullet">•<span style="padding-left: 12pt;" class="FMAutoNumber_1"></span></span><span class="FM_Courier">GetExtensionName</span>&#160;</p>
  <p dir="ltr" class="FM_Bullet1"><span class="FM_Z_Bullet">•<span style="padding-left: 12pt;" class="FMAutoNumber_1"></span></span><span class="FM_Courier">PIHandshake</span>&#160;</p>
  <p dir="ltr" class="FM_Body">You can copy the source code that is located in the StartInit.cpp file (located in the Starter plug-in) and paste it. For information about these methods, see <a href="../Understanding_Plug-ins/About_plug-in_initialization.htm#XREF_58810_About_plug_in"><span class="FM_HyperText">About plug-in initialization</span></a>.</p>
  <p dir="ltr" class="FM_Body">The entry point to a plug-in is the <span class="FM_Courier">PluginInit</span>&#160;method. For example, if you add the following line of code to this method, an alert box is displayed when <span data-name="AdobeReaderProd" data-val="Adobe&nbsp;Reader" data-showval="TRUE" data-format="AdobeReaderProd">Adobe&nbsp;Reader</span>&#160;or <span data-name="AcrobatProd" data-val="Acrobat" data-showval="TRUE" data-format="AcrobatProd">Acrobat</span> is started:</p>
  <p dir="ltr" class="FM_CodeReference"><span style="font-family:'Times New Roman'; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>AVAlertNote(&quot;This is your first plug-in&quot;);</p>
  <p dir="ltr" class="FM_Body">You can add an application to the <span class="FM_Courier">PluginInit</span>&#160;method to meet your business requirements. You can invoke other user-defined functions that you create or you can add application logic to this method that performs a specific task. For example, you can add application logic to this method that adds a new menu item to <span data-name="AdobeReaderProd" data-val="Adobe&nbsp;Reader" data-showval="TRUE" data-format="AdobeReaderProd">Adobe&nbsp;Reader</span>&#160;or <span data-name="AcrobatProd" data-val="Acrobat" data-showval="TRUE" data-format="AcrobatProd">Acrobat</span>.</p>
  <p dir="ltr" class="FM_4Head"><a name="TOC_Compiling_and_building"></a>Compiling and building your plug-in</p>
  <p dir="ltr" class="FM_Body">You must compile your plug-in to build the API file. As stated earlier in this guide, plug-ins are equivalent to Windows DLLs; however, the file extension is .api, not .dll. Once you create an API file, you must add it to the following directory:</p>
  <p dir="ltr" class="FM_Indent1">\Program Files\Adobe\Acrobat\plug_ins</p>
  <p dir="ltr" class="FM_Body">After you add the plug-in to this directory, you must restart <span data-name="AcrobatProd" data-val="Acrobat" data-showval="TRUE" data-format="AcrobatProd">Acrobat</span>&#160;for the plug-in to take effect. </p>
  </div>
<!-- Body place holder ends here-->

    <!-- Footer place holder starts here-->
    <div style="padding:0.4em 0;text-align:center;width:100%;position:relative;">
    	<hr/>
		<p style="font-size:0.7em;margin:0; font-family:adobe-clean, sans-serif"><a target="_blank" href="http://help.adobe.com/en_US/legalnotices/index.html">Legal Notices</a> | <a target="_blank" href="http://www.adobe.com/privacy.html">Online Privacy Policy</a></p>
	</div>
	<!-- Footer place holder ends here-->

</body>
</html>